"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2659],{2659:(nt,N,C)=>{C.r(N),C.d(N,{RegistroPageModule:()=>at});var A=C(6895),p=C(433),d=C(603),P=C(3599),_=C(7582),D=C(2263),e=C(1571),q=C(997),U=C(5114),k=C(7924),F=C(8965);const R=["modal"],G=["modal2"],S=["modal3"],V=["modal4"],J=["modalcode"],O=["autocompleteContainer"],j=["fechaInput"];function Q(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.nuevoTercero())}),e.qZA()}}function H(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editTercero())}),e.qZA(),e._UZ(2,"ion-icon",26),e.qZA()}}function K(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editTercero())}),e.qZA(),e._UZ(2,"ion-icon",27),e.qZA()}}function L(n,l){1&n&&e._UZ(0,"ion-icon",28)}function Y(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.nuevoVehiculo())}),e.qZA()}}function B(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.editVehiculo())}),e.qZA(),e._UZ(2,"ion-icon",26),e.qZA()}}function z(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.editVehiculo())}),e.qZA(),e._UZ(2,"ion-icon",27),e.qZA()}}function $(n,l){1&n&&e._UZ(0,"ion-icon",28)}function W(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"input",29),e.NdJ("input",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchVehicle(o))}),e.qZA(),e.YNc(2,Y,1,0,"ion-icon",10),e.YNc(3,B,3,0,"div",11),e.YNc(4,z,3,0,"div",11),e.YNc(5,$,1,0,"ion-icon",12),e.TgZ(6,"label",30),e._uU(7,"Vehiculo"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.newVehicle),e.xp6(1),e.Q6J("ngIf",t.checkVehicle),e.xp6(1),e.Q6J("ngIf",t.incompletoVehiculo),e.xp6(1),e.Q6J("ngIf",t.alertVehiculo)}}function X(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.nuevoPropietario())}),e.qZA()}}function ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.editPropietario())}),e.qZA(),e._UZ(2,"ion-icon",26),e.qZA()}}function te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.editPropietario())}),e.qZA(),e._UZ(2,"ion-icon",27),e.qZA()}}function oe(n,l){1&n&&e._UZ(0,"ion-icon",28)}function ie(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"input",31),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchPropietario(o))}),e.qZA(),e.YNc(2,X,1,0,"ion-icon",10),e.YNc(3,ee,3,0,"div",11),e.YNc(4,te,3,0,"div",11),e.YNc(5,oe,1,0,"ion-icon",12),e.TgZ(6,"label",30),e._uU(7,"Propietario"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.newPropiet),e.xp6(1),e.Q6J("ngIf",t.checkPropi),e.xp6(1),e.Q6J("ngIf",t.incompletoPropiet),e.xp6(1),e.Q6J("ngIf",t.alertPropi)}}function ae(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.nuevoTenedor())}),e.qZA()}}function ne(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.editTenedor())}),e.qZA(),e._UZ(2,"ion-icon",26),e.qZA()}}function re(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"ion-icon",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.editTenedor())}),e.qZA(),e._UZ(2,"ion-icon",27),e.qZA()}}function ce(n,l){1&n&&e._UZ(0,"ion-icon",28)}function se(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"input",32),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.searchTenedor(o))}),e.qZA(),e.YNc(2,ae,1,0,"ion-icon",10),e.YNc(3,ne,3,0,"div",11),e.YNc(4,re,3,0,"div",11),e.YNc(5,ce,1,0,"ion-icon",12),e.TgZ(6,"label",30),e._uU(7,"Tenedor"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.newTenedor),e.xp6(1),e.Q6J("ngIf",t.checkTened),e.xp6(1),e.Q6J("ngIf",t.incompletoTenedor),e.xp6(1),e.Q6J("ngIf",t.alertTened)}}function le(n,l){if(1&n&&e._UZ(0,"ion-img",38),2&n){const t=e.oxw(3);e.Q6J("src",t.hubImag.fotoperfil.webviewPath)}}function ue(n,l){1&n&&e._UZ(0,"div",39)}function de(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"h2",34)(2,"strong"),e._uU(3," Foto Perfil "),e.qZA()(),e.TgZ(4,"div",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getFoto())}),e.YNc(5,le,1,1,"ion-img",36),e.YNc(6,ue,1,0,"div",37),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",t.hubImag.fotoperfil.webviewPath),e.xp6(1),e.Q6J("ngIf",!t.hubImag.fotoperfil.webviewPath)}}function he(n,l){1&n&&(e.TgZ(0,"ion-button",40),e._uU(1," Guardar "),e.qZA())}function pe(n,l){if(1&n&&(e.TgZ(0,"ion-row",55)(1,"ion-col")(2,"label",56),e._uU(3,"Placa Remolque"),e.qZA(),e._UZ(4,"input",75),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.vehiculo.remolque)}}function _e(n,l){1&n&&e._UZ(0,"a",76),2&n&&e.Q6J("innerHTML",l.$implicit.name,e.oJD)}function me(n,l){1&n&&e._UZ(0,"div",76),2&n&&e.Q6J("innerHTML",l.$implicit,e.oJD)}function ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"ion-text",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.openDocumentController(o.vehiculo.placa,"vehiculo",o.vehiculo.articulado,o.documents_vehiculo))}),e.TgZ(2,"h3"),e._uU(3," Verficar Fotos "),e.qZA()()()}}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",41),e._uU(3,"Datos Vechiculo"),e.qZA(),e.TgZ(4,"ion-buttons",42)(5,"ion-button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmitNewVehicle())}),e._uU(6,"Guardar"),e.qZA()()()(),e.TgZ(7,"ion-content",44)(8,"form",45),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmitNewVehicle())}),e.TgZ(9,"ion-list",46)(10,"ion-grid")(11,"div",47)(12,"div",48)(13,"ion-row",49)(14,"ion-col",50)(15,"ion-item",51)(16,"ion-label"),e._uU(17),e.qZA(),e.TgZ(18,"ion-toggle",52),e.NdJ("ionChange",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkPropietario())}),e.qZA()()(),e.TgZ(19,"ion-col",53)(20,"ion-item",51)(21,"ion-label"),e._uU(22),e.qZA(),e.TgZ(23,"ion-toggle",52),e.NdJ("ionChange",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkTenedor())}),e.qZA()()()()()(),e.TgZ(24,"ion-col")(25,"div",54)(26,"strong")(27,"h1"),e._uU(28,"Datos del vehiculo"),e.qZA()()()(),e.TgZ(29,"ion-row",55)(30,"ion-col")(31,"label",56),e._uU(32,"Modelo"),e.qZA(),e._UZ(33,"input",57),e.qZA()(),e.TgZ(34,"ion-row")(35,"ion-col")(36,"div",58)(37,"ion-label",59),e._uU(38,"Clase Vehiculo"),e.qZA(),e.TgZ(39,"ng-autocomplete",60),e.NdJ("selected",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectEvent(o))})("inputChanged",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeSearch(o))})("inputFocused",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocused(o))})("focusout",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurClase(o))}),e.qZA()()()(),e.TgZ(40,"ion-row")(41,"ion-col")(42,"div",58,61)(44,"ion-label",59),e._uU(45,"Marca"),e.qZA(),e.TgZ(46,"ng-autocomplete",62),e.NdJ("selected",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectMarca(o))})("focusout",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurMarca(o))})("inputChanged",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeMarca(o))})("inputFocused",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocusedMarca(o))}),e.qZA()()()(),e.TgZ(47,"ion-row")(48,"ion-col")(49,"div",58)(50,"ion-label",59),e._uU(51,"Clase Linea"),e.qZA(),e.TgZ(52,"ng-autocomplete",63),e.NdJ("selected",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectLinea(o))})("focusout",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurLinea(o))})("inputChanged",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeLinea(o))})("inputFocused",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocusedLinea(o))}),e.qZA()()()(),e.TgZ(53,"ion-row")(54,"ion-col")(55,"div",58)(56,"ion-label",59),e._uU(57,"Carroceria"),e.qZA(),e.TgZ(58,"ng-autocomplete",64),e.NdJ("selected",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectCarroceria(o))})("focusout",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurCarroceria(o))})("inputChanged",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeCarroceria(o))})("inputFocused",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocusedCarroceria(o))}),e.qZA()()()(),e.TgZ(59,"ion-row")(60,"ion-col")(61,"div",58)(62,"ion-label",59),e._uU(63,"Color "),e.qZA(),e.TgZ(64,"ng-autocomplete",65),e.NdJ("selected",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectColor(o))})("focusout",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurColor(o))})("inputChanged",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeColor(o))})("inputFocused",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocusedColor(o))}),e.qZA()()()(),e.YNc(65,pe,5,1,"ion-row",66),e.TgZ(66,"ion-row")(67,"ion-col")(68,"div",58)(69,"ion-label",59),e._uU(70,"Empresa GPS"),e.qZA(),e.TgZ(71,"ng-autocomplete",67),e.NdJ("focusout",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onBlurSatelital(o))})("selected",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectSatelital(o))})("inputChanged",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeSatelital(o))})("inputFocused",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onFocusedSatelital(o))}),e.qZA()()()(),e.TgZ(72,"ion-row",55)(73,"ion-col")(74,"label",56),e._uU(75,"Usuario Gps"),e.qZA(),e._UZ(76,"input",68),e.qZA()(),e.TgZ(77,"ion-row",55)(78,"ion-col")(79,"label",56),e._uU(80,"Clave Gps"),e.qZA(),e._UZ(81,"input",69),e.qZA()(),e.YNc(82,_e,1,1,"ng-template",null,70,e.W1O),e.YNc(84,me,1,1,"ng-template",null,71,e.W1O),e.YNc(86,ge,4,0,"div",72),e.TgZ(87,"div",73)(88,"button",74),e._uU(89," Guardar "),e.qZA()()()()()()}if(2&n){const t=e.MAs(83),i=e.MAs(85),o=e.oxw(2);e.xp6(8),e.Q6J("formGroup",o.formNewVehicle),e.xp6(1),e.Q6J("inset",!0),e.xp6(8),e.Oqu(o.isPropietario?"Soy el Propietario":"No soy el Propietario"),e.xp6(1),e.Q6J("checked",o.isPropietario),e.xp6(4),e.Oqu(o.isTenedor?"Soy el Tenedor":"No soy el Tenedor"),e.xp6(1),e.Q6J("checked",o.isTenedor),e.xp6(10),e.Q6J("ngModel",o.vehiculo.modelo),e.xp6(6),e.Q6J("ngModel",o.vehiculo.claseVehiculo)("data",o.dataClases)("searchKeyword",o.keyword)("itemTemplate",t)("notFoundTemplate",i),e.xp6(7),e.Q6J("ngModel",o.vehiculo.marca)("data",o.dataMarcas)("searchKeyword",o.keyword)("itemTemplate",t)("notFoundTemplate",i),e.xp6(6),e.Q6J("ngModel",o.vehiculo.linea)("data",o.dataLineas)("searchKeyword",o.keyword)("itemTemplate",t)("notFoundTemplate",i),e.xp6(6),e.Q6J("ngModel",o.vehiculo.carroceria)("data",o.dataCarroc)("searchKeyword",o.keyword)("itemTemplate",t)("notFoundTemplate",i),e.xp6(6),e.Q6J("ngModel",o.vehiculo.color)("data",o.dataColores)("searchKeyword",o.keyword)("itemTemplate",t)("notFoundTemplate",i),e.xp6(1),e.Q6J("ngIf",o.vehiculo.articulado),e.xp6(6),e.Q6J("ngModel",o.vehiculo.empresaSatelital)("data",o.dataSatelital)("searchKeyword",o.keyword)("itemTemplate",t)("notFoundTemplate",i),e.xp6(5),e.Q6J("ngModel",o.vehiculo.usuarioSatelital),e.xp6(5),e.Q6J("ngModel",o.vehiculo.claveSatelital),e.xp6(5),e.Q6J("ngIf",o.checkVehicle)}}function ve(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",91),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function be(n,l){if(1&n&&(e.TgZ(0,"ion-item",92)(1,"ion-label",93),e._uU(2),e.qZA(),e.TgZ(3,"ion-radio-group",94)(4,"ion-item",51)(5,"ion-label"),e._uU(6,"S\xed"),e.qZA(),e._UZ(7,"ion-radio",95),e.qZA(),e.TgZ(8,"ion-item",51)(9,"ion-label"),e._uU(10,"No"),e.qZA(),e._UZ(11,"ion-radio",96),e.qZA()()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.text),e.xp6(1),e.s9C("formControlName",t.formControlName)}}function Te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"ion-text",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.openDocumentController(o.conductor.cedula,"conductor",!0,o.documents_conductor))}),e.TgZ(2,"h3"),e._uU(3," Verficar Fotos "),e.qZA()()()}}function xe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",41),e._uU(3,"Datos Conductor"),e.qZA(),e.TgZ(4,"ion-buttons",42)(5,"ion-button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmitNewDriver())}),e._uU(6,"Guardar"),e.qZA()()()(),e.TgZ(7,"ion-content",44)(8,"ion-list",46)(9,"form",45),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmitNewDriver())}),e.TgZ(10,"ion-grid")(11,"ion-col")(12,"div",54)(13,"strong")(14,"h1"),e._uU(15,"Datos Personales"),e.qZA()()()(),e.TgZ(16,"ion-row",55)(17,"ion-col")(18,"label",56),e._uU(19,"Nombres"),e.qZA(),e._UZ(20,"input",79),e.qZA()(),e.TgZ(21,"ion-row",55)(22,"ion-col")(23,"label",56),e._uU(24,"Apellidos"),e.qZA(),e._UZ(25,"input",80),e.qZA()(),e.TgZ(26,"ion-row",55)(27,"ion-col")(28,"label",56),e._uU(29,"Correo"),e.qZA(),e._UZ(30,"input",81),e.qZA()(),e.TgZ(31,"ion-row",55)(32,"ion-col")(33,"label",56),e._uU(34,"Celular"),e.qZA(),e._UZ(35,"input",82),e.qZA()(),e.TgZ(36,"ion-row",55)(37,"ion-col")(38,"label",56),e._uU(39,"Direccion"),e.qZA(),e._UZ(40,"input",83),e.qZA()(),e.TgZ(41,"ion-row",55)(42,"ion-col")(43,"label",56),e._uU(44,"Fecha nacimeinto"),e.qZA(),e.TgZ(45,"input",84),e.NdJ("input",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.validateBirthDate(o))}),e.qZA()()(),e.TgZ(46,"ion-col")(47,"div",54)(48,"strong")(49,"h1"),e._uU(50,"Datos Referencia"),e.qZA()()()(),e.TgZ(51,"ion-row",55)(52,"ion-col")(53,"label",56),e._uU(54,"Nombre contacto"),e.qZA(),e._UZ(55,"input",85),e.qZA()(),e.TgZ(56,"ion-row",55)(57,"ion-col")(58,"label",56),e._uU(59,"Celular contacto"),e.qZA(),e._UZ(60,"input",86),e.qZA()(),e.TgZ(61,"ion-row")(62,"ion-col")(63,"label",56),e._uU(64,"Parentesco"),e.qZA(),e.TgZ(65,"ion-select",87),e.NdJ("ionChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onChangeParente(o))}),e.YNc(66,ve,2,2,"ion-select-option",88),e.qZA()()(),e.TgZ(67,"div",89)(68,"ion-list"),e.YNc(69,be,12,2,"ion-item",90),e.qZA()(),e.YNc(70,Te,4,0,"div",72),e.TgZ(71,"div",73)(72,"button",74),e._uU(73," Guardar "),e.qZA()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("inset",!0),e.xp6(1),e.Q6J("formGroup",t.formNewDriver),e.xp6(11),e.Q6J("ngModel",t.conductor.nombres),e.xp6(5),e.Q6J("ngModel",t.conductor.apellidos),e.xp6(5),e.Q6J("ngModel",t.conductor.correo),e.xp6(5),e.Q6J("ngModel",t.conductor.celular),e.xp6(5),e.Q6J("ngModel",t.conductor.direccion),e.xp6(5),e.Q6J("ngModel",t.conductor.fechaNacimiento),e.xp6(10),e.Q6J("ngModel",t.conductor.nombreContacto),e.xp6(5),e.Q6J("ngModel",t.conductor.celularContacto),e.xp6(5),e.Q6J("ngModel",t.conductor.parentesco)("placeholder",t.conductor.parentesco?t.conductor.parentesco:"Seleccionar parentesco"),e.xp6(1),e.Q6J("ngForOf",t.dataParentes),e.xp6(3),e.Q6J("ngForOf",t.questions),e.xp6(1),e.Q6J("ngIf",t.checkTercero)}}function Ce(n,l){if(1&n&&e._UZ(0,"ion-img",38),2&n){const t=e.oxw(3);e.Q6J("src",t.hubImag.cedula_pro1.webviewPath)}}function we(n,l){1&n&&e._UZ(0,"div",39)}function Ze(n,l){if(1&n&&e._UZ(0,"ion-img",38),2&n){const t=e.oxw(3);e.Q6J("src",t.hubImag.cedula_pro2.webviewPath)}}function Ae(n,l){1&n&&e._UZ(0,"div",39)}function Pe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",41),e._uU(3,"Datos Propietario"),e.qZA(),e.TgZ(4,"ion-buttons",42)(5,"ion-button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setOpenPro(!1))}),e._uU(6,"Cerrar"),e.qZA()()()(),e.TgZ(7,"ion-content",44)(8,"ion-list",46)(9,"form",45),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmitNewProp())}),e.TgZ(10,"ion-grid")(11,"ion-col")(12,"div",54)(13,"strong")(14,"h1"),e._uU(15,"Datos Personales"),e.qZA()()()(),e.TgZ(16,"ion-row",55)(17,"ion-col")(18,"label",56),e._uU(19,"Nombres"),e.qZA(),e._UZ(20,"input",79),e.qZA()(),e.TgZ(21,"ion-row",55)(22,"ion-col")(23,"label",56),e._uU(24,"Apellidos"),e.qZA(),e._UZ(25,"input",80),e.qZA()(),e.TgZ(26,"ion-row",55)(27,"ion-col")(28,"label",56),e._uU(29,"Correo"),e.qZA(),e._UZ(30,"input",81),e.qZA()(),e.TgZ(31,"ion-row",55)(32,"ion-col")(33,"label",56),e._uU(34,"Celular"),e.qZA(),e._UZ(35,"input",97),e.qZA()(),e.TgZ(36,"ion-row",55)(37,"ion-col")(38,"label",56),e._uU(39,"Direccion"),e.qZA(),e._UZ(40,"input",83),e.qZA()(),e.TgZ(41,"ion-row",55)(42,"ion-col")(43,"label",56),e._uU(44,"Fecha nacimeinto"),e.qZA(),e._UZ(45,"input",98),e.qZA()(),e.TgZ(46,"ion-item")(47,"ion-label",93),e._uU(48,"\xbfPertenece usted a gremios o asociaciones reconocidas?"),e.qZA(),e._UZ(49,"ion-checkbox",99),e.qZA(),e.TgZ(50,"ion-accordion-group")(51,"ion-accordion",100)(52,"ion-item",101)(53,"ion-label"),e._uU(54,"Cedula de Ciudadania"),e.qZA()(),e.TgZ(55,"div",102)(56,"ion-row")(57,"ion-col")(58,"div",103)(59,"strong")(60,"h1"),e._uU(61,"Cedula Cara Frontal"),e.qZA()()(),e.TgZ(62,"ion-item")(63,"div",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addToCamera("cedula_pro1",!0))}),e.YNc(64,Ce,1,1,"ion-img",36),e.YNc(65,we,1,0,"div",37),e.qZA()()()(),e.TgZ(66,"ion-row")(67,"ion-col")(68,"div",103)(69,"strong")(70,"h1"),e._uU(71,"Cedula Cara Posterior"),e.qZA()()(),e.TgZ(72,"ion-item")(73,"div",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addToCamera("cedula_pro2",!0))}),e.YNc(74,Ze,1,1,"ion-img",36),e.YNc(75,Ae,1,0,"div",37),e.qZA()()()()()()(),e.TgZ(76,"div",73)(77,"button",74),e._uU(78," Guardar "),e.qZA()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("inset",!0),e.xp6(1),e.Q6J("formGroup",t.formNewProp),e.xp6(11),e.Q6J("ngModel",t.propietario.nombres),e.xp6(5),e.Q6J("ngModel",t.propietario.apellidos),e.xp6(5),e.Q6J("ngModel",t.propietario.correo),e.xp6(5),e.Q6J("ngModel",t.propietario.celular),e.xp6(5),e.Q6J("ngModel",t.propietario.direccion),e.xp6(5),e.Q6J("ngModel",t.propietario.fechaNacimiento),e.xp6(4),e.Q6J("ngModel",t.propietario.gre_rec_pub),e.xp6(15),e.Q6J("ngIf",t.hubImag.cedula_pro1.webviewPath),e.xp6(1),e.Q6J("ngIf",!t.hubImag.cedula_pro1.webviewPath),e.xp6(9),e.Q6J("ngIf",t.hubImag.cedula_pro2.webviewPath),e.xp6(1),e.Q6J("ngIf",!t.hubImag.cedula_pro2.webviewPath)}}function De(n,l){if(1&n&&e._UZ(0,"ion-img",38),2&n){const t=e.oxw(3);e.Q6J("src",t.hubImag.cedula_ten1.webviewPath)}}function Ie(n,l){1&n&&e._UZ(0,"div",39)}function ye(n,l){if(1&n&&e._UZ(0,"ion-img",38),2&n){const t=e.oxw(3);e.Q6J("src",t.hubImag.cedula_ten2.webviewPath)}}function Ne(n,l){1&n&&e._UZ(0,"div",39)}function qe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",41),e._uU(3,"Datos Tenedor"),e.qZA(),e.TgZ(4,"ion-buttons",42)(5,"ion-button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setOpenTen(!1))}),e._uU(6,"Cerrar"),e.qZA()()()(),e.TgZ(7,"ion-content",44)(8,"ion-list",46)(9,"form",45),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmitNewTen())}),e.TgZ(10,"ion-grid")(11,"ion-col")(12,"div",54)(13,"strong")(14,"h1"),e._uU(15,"Datos Personales"),e.qZA()()()(),e.TgZ(16,"ion-row",55)(17,"ion-col")(18,"label",56),e._uU(19,"Nombres"),e.qZA(),e._UZ(20,"input",79),e.qZA()(),e.TgZ(21,"ion-row",55)(22,"ion-col")(23,"label",56),e._uU(24,"Apellidos"),e.qZA(),e._UZ(25,"input",80),e.qZA()(),e.TgZ(26,"ion-row",55)(27,"ion-col")(28,"label",56),e._uU(29,"Correo"),e.qZA(),e._UZ(30,"input",81),e.qZA()(),e.TgZ(31,"ion-row",55)(32,"ion-col")(33,"label",56),e._uU(34,"Celular"),e.qZA(),e._UZ(35,"input",97),e.qZA()(),e.TgZ(36,"ion-row",55)(37,"ion-col")(38,"label",56),e._uU(39,"Direccion"),e.qZA(),e._UZ(40,"input",83),e.qZA()(),e.TgZ(41,"ion-row",55)(42,"ion-col")(43,"label",56),e._uU(44,"Fecha nacimeinto"),e.qZA(),e._UZ(45,"input",98),e.qZA()(),e.TgZ(46,"ion-item")(47,"ion-label",93),e._uU(48,"\xbfPertenece usted a gremios o asociaciones reconocidas?"),e.qZA(),e._UZ(49,"ion-checkbox",99),e.qZA(),e.TgZ(50,"ion-accordion-group")(51,"ion-accordion",105)(52,"ion-item",101)(53,"ion-label"),e._uU(54,"Cedula de Ciudadania"),e.qZA()(),e.TgZ(55,"div",102)(56,"ion-row")(57,"ion-col")(58,"div",103)(59,"strong")(60,"h1"),e._uU(61,"Cedula Cara Frontal"),e.qZA()()(),e.TgZ(62,"ion-item")(63,"div",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addToCamera("cedula_ten1",!0))}),e.YNc(64,De,1,1,"ion-img",36),e.YNc(65,Ie,1,0,"div",37),e.qZA()()()(),e.TgZ(66,"ion-row")(67,"ion-col")(68,"div",103)(69,"strong")(70,"h1"),e._uU(71,"Cedula Cara Posterior"),e.qZA()()(),e.TgZ(72,"ion-item")(73,"div",104),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addToCamera("cedula_ten2",!0))}),e.YNc(74,ye,1,1,"ion-img",36),e.YNc(75,Ne,1,0,"div",37),e.qZA()()()()()()(),e.TgZ(76,"div",106)(77,"button",74),e._uU(78," Guardar "),e.qZA()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("inset",!0),e.xp6(1),e.Q6J("formGroup",t.formNewTene),e.xp6(11),e.Q6J("ngModel",t.tenedor.nombres),e.xp6(5),e.Q6J("ngModel",t.tenedor.apellidos),e.xp6(5),e.Q6J("ngModel",t.tenedor.correo),e.xp6(5),e.Q6J("ngModel",t.tenedor.celular),e.xp6(5),e.Q6J("ngModel",t.tenedor.direccion),e.xp6(5),e.Q6J("ngModel",t.tenedor.fechaNacimiento),e.xp6(4),e.Q6J("ngModel",t.tenedor.gre_rec_pub),e.xp6(15),e.Q6J("ngIf",t.hubImag.cedula_ten1.webviewPath),e.xp6(1),e.Q6J("ngIf",!t.hubImag.cedula_ten1.webviewPath),e.xp6(9),e.Q6J("ngIf",t.hubImag.cedula_ten2.webviewPath),e.xp6(1),e.Q6J("ngIf",!t.hubImag.cedula_ten2.webviewPath)}}function Ue(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",41),e._uU(3,"Terminos y condiciones"),e.qZA(),e.TgZ(4,"ion-buttons",42)(5,"ion-button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setOpenTermsData(!1))}),e._uU(6,"Cerrar"),e.qZA()()()(),e.TgZ(7,"ion-content",44)(8,"ion-grid",107)(9,"ion-row")(10,"ion-col"),e._UZ(11,"img",108),e.qZA()(),e.TgZ(12,"ion-row",109)(13,"ion-col")(14,"h2"),e._uU(15,"Viaja con aldia requiere autorizacion de su Politica de privacidad"),e.qZA()()(),e.TgZ(16,"ion-row",110)(17,"ion-col")(18,"span"),e._uU(19,"La aceptacion de los terminos incluye los siguientes puntos."),e.qZA()()(),e.TgZ(20,"ion-row",111)(21,"ion-col")(22,"p"),e._uU(23," AUTORIZACI\xd3N PARA EL TRATAMIENTO DE DATOS PERSONALES. (GRUPO TRIANGULO S.A.S y sus empresas filiales) ALDIA LOGISTICA., en adelante SERCARGA SAS, AGIL CARGO S.A.S, TRAVESA S.A.S, GRUPO TRIANGULO S.A.S y SERVIN, comunica a sus grupos de inter\xe9s la Pol\xedtica de Tratamiento de Datos Personales y que los datos consignados, ser\xe1n incorporados adoptando el cumplimiento del r\xe9gimen legal vigente contenido en la Ley Estatutaria 1581 de 2012, 1266 de 2008 y Decreto 1377 de 2013 en lo pertinente atendiendo a las finalidades especialmente para: 1.Registro del veh\xedculo y conductores. 2. Registro propietario, tenedor 2. Realizar el proceso de enturnamiento de los veh\xedculos 3. Capitaciones y actividades de promoci\xf3n y prevenci\xf3n. Los datos personales en custodia de SERCARGA SAS, AGIL CARGO S.A.S, TRAVESA S.A.S, GRUPO TRIANGULO S.A.S y SERVIN, en su condici\xf3n de responsables y/o encargado seg\xfan el caso, ser\xe1n tratados cumpliendo los principios y regulaciones previstas en las leyes colombianas y las buenas pr\xe1cticas aplicables al r\xe9gimen de protecci\xf3n de datos personales. Para el ejercicio del Habeas Data, el titular del dato personal o quien demuestre un leg\xedtimo inter\xe9s, conforme a lo se\xf1alado en la normatividad vigente, podr\xe1 hacerlo a trav\xe9s del siguiente correo electr\xf3nico: protecciondedatos@aldialogistica.com, o dirigiendo una comunicaci\xf3n a la siguiente direcci\xf3n f\xedsica: Calle 17\xaa No. 69 46 en la ciudad de Bogot\xe1 D.C., Quien ejerza el habeas data deber\xe1 suministrar con precisi\xf3n los datos de contacto solicitados, para efecto de tramitar, atender y responder su solicitud. Recibida la solicitud de ejercicio de Habeas Data, SERCARGA SAS, AGIL CARGO S.A.S, TRAVESA S.A.S, GRUPO TRIANGULO S.A.S y SERVIN, dar\xe1 respuesta en los t\xe9rminos de ley. "),e.qZA()()(),e.TgZ(24,"ion-row")(25,"ion-col",112)(26,"button",113),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.acept())}),e._uU(27," Aceptar "),e.qZA()()()()()}}function Ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",41),e._uU(3,"Terminos y condiciones"),e.qZA(),e.TgZ(4,"ion-buttons",42)(5,"ion-button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setOpenTerms(!1))}),e._uU(6,"Cerrar"),e.qZA()()()(),e.TgZ(7,"ion-content",44)(8,"ion-grid",107)(9,"ion-row")(10,"ion-col"),e._UZ(11,"img",108),e.qZA()(),e.TgZ(12,"ion-row",109)(13,"ion-col")(14,"h2"),e._uU(15,"Viaja con aldia requiere aceptgacion de condiciones generales"),e.qZA()()(),e.TgZ(16,"ion-row",110)(17,"ion-col")(18,"span"),e._uU(19,"La aceptacion de los terminos incluye los siguientes puntos."),e.qZA()()(),e.TgZ(20,"ion-row",114)(21,"ion-col",115)(22,"h5"),e._uU(23," 1. DECLARACI\xd3N SOBRE ORIGEN DE FONDOS/ SISTEMA INTEGRAL PARA LA PREVENCION DEL LAVADO DE ACTIVOS Y LA FINANCIACION DEL TERRORISMO Y PROLIFERACION DE ARMAS DE DESTRUCCION MASIVA "),e.qZA(),e.TgZ(24,"p"),e._uU(25,"Conozco, entiendo y acepto de manera voluntaria e inequ\xedvoca el cumplimiento de la regulaci\xf3n vigente y de acuerdo a lo establecido en la circular 0170 de 2002 de la Direcci\xf3n de Impuestos y Aduanas Nacionales (DIAN), Resoluci\xf3n 74854/2016, Decreto 1165 /2019 y dem\xe1s normas que lo modifiquen o adicionen, bajo gravedad de juramento que los recursos que entrego, no provienen de ninguna actividad il\xedcita de las contempladas en el c\xf3digo penal colombiano y no admitir\xe9 que terceros efect\xfaen dep\xf3sitos a mis productos con recursos provenientes de actividades il\xedcitas ni efectuare transacciones destinadas a tales actividades ni a favor de personas relacionadas con las mismas, declaro expresamente lo siguiente:"),e.qZA(),e.TgZ(26,"p"),e._uU(27,"1.La informaci\xf3n suministrada en el presente documento es veraz y verificable y la persona natural o jur\xeddica se compromete a actualizarla anualmente. "),e._UZ(28,"br"),e._uU(29," 2. Los recursos que se deriven de la actividad, profesi\xf3n u oficio de la persona natural o jur\xeddica, no se destinar\xe1n a la financiaci\xf3n del terrorismo, grupos terroristas o actividades terroristas y a la proliferaci\xf3n de armas de destrucci\xf3n masiva. "),e._UZ(30,"br"),e._uU(31," 3. Los recursos que posee la persona natural o jur\xeddica provienen de su actividad, profesi\xf3n u oficio y/o objeto social. "),e._UZ(32,"br"),e._uU(33," 4.Todos los pagos que realizo (realizamos) son directos, con recursos propios, no a trav\xe9s de terceros, ni con recursos de terceros. "),e._UZ(34,"br"),e._uU(35," 5. De manera irrevocable autorizo (autorizamos) a la compa\xf1\xeda para solicitar, consultar, procesar, suministrar, reportar o divulgar a cualquier entidad v\xe1lidamente autorizada para manejar o administrar bases de datos, incluidas las entidades gubernamentales, informaci\xf3n contenida en este formulario y dem\xe1s. "),e.qZA(),e.TgZ(36,"h5"),e._uU(37,"2. AUTORIZACION DE CONSULTA Y REPORTE ACENTRALES DE RIESGO"),e.qZA(),e.TgZ(38,"p"),e._uU(39,"Las partes acuerdan que cualquier informaci\xf3n intercambiada, facilitada o creada entre las partes, durante el desarrollo de sus negocios y/o los que se llegaren a ejecutar, ser\xe1 mantenida en estricta confidencialidad. Por lo tanto las partes se obligan a no revelar, divulgar, exhibir, mostrar, trasmitir, modificar, ceder, copiar y/o comunicar la Informaci\xf3n que reciba de la otra parte, a persona jur\xeddica o natural alguna, ni a utilizarla en su favor o en el de terceros, y en consecuencia deber\xe1 mantenerla de manera confidencial y privada y a proteger dicha informaci\xf3n para evitar su divulgaci\xf3n no autorizada, ejerciendo sobre \xe9sta el mismo grado de diligencia que utiliza para proteger informaci\xf3n confidencial de su propiedad. La informaci\xf3n podr\xe1 estar contenida en cualquier medio o forma, tangible o intangible. La parte receptora correspondiente solo podr\xe1 revelar la informaci\xf3n al personal que la requiera para el cumplimiento de las actividades propias del negocio y para la prestaci\xf3n del servicio, debiendo garantizar la debida reserva y confidencialidad. En caso de verificarse y demostrarse el incumplimiento de este pacto, la parte afectada podr\xe1 iniciar las acciones legales a que haya lugar y solicitar la indemnizaci\xf3n de perjuicios correspondiente."),e.qZA(),e.TgZ(40,"h5"),e._uU(41,"3. CONFIDENCIALIDAD"),e.qZA(),e.TgZ(42,"p"),e._uU(43,"Las partes acuerdan que cualquier informaci\xf3n intercambiada, facilitada o creada entre las partes, durante el desarrollo de sus negocios y/o los que se llegaren a ejecutar, ser\xe1 mantenida en estricta confidencialidad. Por lo tanto las partes se obligan a no revelar, divulgar, exhibir, mostrar, trasmitir, modificar, ceder, copiar y/o comunicar la Informaci\xf3n que reciba de la otra parte, a persona jur\xeddica o natural alguna, ni a utilizarla en su favor o en el de terceros, y en consecuencia deber\xe1 mantenerla de manera confidencial y privada y a proteger dicha informaci\xf3n para evitar su divulgaci\xf3n no autorizada, ejerciendo sobre \xe9sta el mismo grado de diligencia que utiliza para proteger informaci\xf3n confidencial de su propiedad. La informaci\xf3n podr\xe1 estar contenida en cualquier medio o forma, tangible o intangible. La parte receptora correspondiente solo podr\xe1 revelar la informaci\xf3n al personal que la requiera para el cumplimiento de las actividades propias del negocio y para la prestaci\xf3n del servicio, debiendo garantizar la debida reserva y confidencialidad. En caso de verificarse y demostrarse el incumplimiento de este pacto, la parte afectada podr\xe1 iniciar las acciones legales a que haya lugar y solicitar la indemnizaci\xf3n de perjuicios correspondiente."),e.qZA(),e.TgZ(44,"h5"),e._uU(45,"4. DECLARACION CONOCIMIENTO DEL PROGRMA DE ETICA Y TRASNPARENCIA EMPRESARIAL"),e.qZA(),e.TgZ(46,"p"),e._uU(47,"Como asociado de negocios declaro conocer el Programa de \xe9tica y transparencia empresarial el cual se encuentra publicado en la p\xe1gina web. www.aldialogistiica.com el cual tiene como premisas y objetivos: "),e._UZ(48,"br"),e._uU(49," 1. Cumplir las reglas de la compa\xf1\xeda y procedimientos "),e._UZ(50,"br"),e._uU(51," 2. Cumplir la legislaci\xf3n aplicable a la organizaci\xf3n "),e._UZ(52,"br"),e._uU(53," 3. Nunca ofrecer o tomar un soborno "),e._UZ(54,"br"),e._uU(55," 4. Evitar cualquier conflicto de inter\xe9s "),e._UZ(56,"br"),e._uU(57," 5. Mostrar respeto por los dem\xe1s. "),e._UZ(58,"br"),e._uU(59," 6. Evitar todo hecho, tentativa u omisi\xf3n deliberada para obtener un beneficio para s\xed o para terceros en detrimento de los principios organizacionales. "),e._UZ(60,"br"),e._uU(61," 7. Cumplir con las normas de salud, la seguridad y el medio ambiente. "),e.qZA(),e.TgZ(62,"h5"),e._uU(63,"5. ACEPTACI\xd3N ROLES Y RESPONSABILIDADES SGI / MANIFESTACION SUSCRITA"),e.qZA(),e.TgZ(64,"p"),e._uU(65,"- Suministrar los documentos necesarios dentro del proceso de registro para ser avalado como conductor tercero. "),e._UZ(66,"br"),e._uU(67," - Informar al \xe1rea de registro de veh\xedculos y tr\xe1fico el usuario y clave de su GPS (satelital) y activar el bot\xf3n de p\xe1nico no solo en casos de emergencia sino cuando sea detenido por un ret\xe9n policial o del ej\xe9rcito. "),e._UZ(68,"br"),e._uU(69," - Cumplir las recomendaciones dadas por las \xe1reas de gesti\xf3n integral y trafico respetando las normas de seguridad establecidas por la organizaci\xf3n. "),e._UZ(70,"br"),e._uU(71," - Salir a ruta en la fecha y hora informada. Se PROHIBE llevar acompa\xf1antes dentro de los veh\xedculos. "),e._UZ(72,"br"),e._uU(73," - Velar por el cuidado y seguridad de la mercanc\xeda transportada e informar al \xe1rea de tr\xe1fico cualquier novedad como (faltantes, sobrantes, aver\xedas, entre otros). "),e._UZ(74,"br"),e._uU(75," - No debe lavar, ni realizar arreglos al veh\xedculo durante el tr\xe1nsito, ni hacer diligencias personales o realizar detenciones o desv\xedos de ruta no autorizados. Pernoctar \xfanicamente en los lugares autorizados. "),e._UZ(76,"br"),e._uU(77," - El asociado de negocio debe verificar que su veh\xedculo sea precintado por el cliente o la empresa transportadora, los n\xfameros de los precintos y/o sellos deben coincidir con los relacionados en los documentos. Durante el transito debe revisar que los precintos o sellos no sean vulnerados para que la mercanc\xeda no sea afectada, en caso de observar alguna novedad debe informar al \xe1rea de tr\xe1fico. Si por alguna raz\xf3n las autoridades de carretera le rompen o cambian el precinto o sello, solicite que le pongan la nota en la REMESA TERRESTRE DE CARGA e informe al \xe1rea de tr\xe1fico. "),e._UZ(78,"br"),e._uU(79," - Entregar la mercanc\xeda \xfanicamente en la direcci\xf3n relacionada en la remesa, elaborada por el auxiliar de operaciones. Debe reportar e informar al \xe1rea de tr\xe1fico Bogot\xe1 la entrega de la mercanc\xeda al cliente y cualquier novedad (faltantes, aver\xedas, sobrantes etc.) que se presente en la entrega. "),e._UZ(80,"br"),e._uU(81," - Para retirar un contenedor del patio, presentar la orden de cargue expedida por el auxiliar de operaciones (Si aplica). "),e._UZ(82,"br"),e._uU(83," - Conocer los riesgos de Seguridad y Salud en el Trabajo y los viales de acuerdo al rol de actor vial que aplique en sus actividades "),e._UZ(84,"br"),e._uU(85," - Cumplir con la legislaci\xf3n de tr\xe1nsito y transporte, as\xed como de los lineamientos de seguridad vial internos de la organizaci\xf3n. "),e._UZ(86,"br"),e._uU(87," - Dar cumplimiento a las instrucciones y normas para el transporte de mercanc\xedas peligrosas, portar siempre el kit para atenci\xf3n de emergencias, identificar el veh\xedculo con r\xf3tulos y la placa UN (Naciones Unidas), exigir y portar la Tarjeta de Emergencias y Hojas de Seguridad. (Si aplica). "),e._UZ(88,"br"),e._uU(89," - Disponer los residuos generados en las canecas destinadas para ello. "),e._UZ(90,"br"),e._uU(91," - Garantizar el buen estado del veh\xedculo asignado, reportando oportunamente al \xe1rea de mantenimiento cualquier tipo de da\xf1o o mejora que requiera el equipo automotor. "),e._UZ(92,"br"),e._uU(93," - Hacer el Preoperacional para garantizar su seguridad, la de todos los usuarios de la v\xeda y el buen estado del veh\xedculo asignado. "),e._UZ(94,"br"),e._uU(95," - Hacer un buen uso de los equipos y herramientas entregadas por la empresa (Herramienta, extintor, botiqu\xedn, si transporta mercanc\xedas peligrosas el Kit para atenci\xf3n de emergencias) Cuando aplique. "),e._UZ(96,"br"),e._uU(97," - Informar oportunamente a la empresa acerca de los peligros y riesgos latentes en su sitio de trabajo. "),e._UZ(98,"br"),e._uU(99," - La mercanc\xeda debe ser entregada \xfanicamente en la direcci\xf3n relacionada en la remesa, elaborada por el auxiliar de operaciones. "),e._UZ(100,"br"),e._uU(101," - Mantener en buenas condiciones de Orden y Aseo el veh\xedculo asignado. "),e._UZ(102,"br"),e._uU(103," - Mantener h\xe1bitos de vida saludables, consumir frutas y verduras, realizar actividad f\xedsica. "),e._UZ(104,"br"),e._uU(105," - No aceptar o cargar mercanc\xeda adicional durante el tr\xe1nsito en la v\xeda o sitios no autorizados o programados "),e._UZ(106,"br"),e._uU(107," - No ingerir alcohol y sustancias psicoactivas que afecten el desempe\xf1o de sus funciones. "),e._UZ(108,"br"),e._uU(109," - No lavar, ni realizar arreglos al veh\xedculo durante el tr\xe1nsito, ni hacer diligencias personales o realizar detenciones. "),e._UZ(110,"br"),e._uU(111," - No participar en el proceso de cargue y descargue de mercanc\xedas peligrosas salvo si est\xe1 capacitado y autorizado. "),e._UZ(112,"br"),e._uU(113," - Notificar cualquier novedad durante los desplazamientos laborales en carretera al \xe1rea de Trafico (siniestros viales, actividades sospechosas, hurto, saqueo, derrame de producto, derrumbe, volcamiento, varada, colisi\xf3n, inspecci\xf3n de mercanc\xeda, desv\xedos de ruta no autorizados, aprensi\xf3n de mercanc\xeda, inmovilizaci\xf3n del veh\xedculo, trancones en la v\xeda, entre otros) "),e._UZ(114,"br"),e._uU(115," - Participar en el cumplimiento de los planes y programas del SGI "),e._UZ(116,"br"),e._uU(117," - Participar en las actividades de prevenci\xf3n y promoci\xf3n para prevenir los ATEL y los siniestros viales "),e._UZ(118,"br"),e._uU(119," - Portar prendas de dotaci\xf3n y elementos de protecci\xf3n personal seg\xfan sea el caso. "),e.qZA()()(),e.TgZ(120,"ion-row")(121,"ion-col",112)(122,"button",113),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.acept2())}),e._uU(123," Aceptar "),e.qZA()()()()()}}function Me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",127)(1,"button",128),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.sendCodeValidation())}),e._uU(2," Enviar "),e.qZA()()}}function ke(n,l){1&n&&(e.TgZ(0,"div",129)(1,"div",130),e._UZ(2,"input",131),e.qZA()())}function Fe(n,l){1&n&&(e.TgZ(0,"div",127)(1,"button",132),e._uU(2," Confirmar "),e.qZA()())}function Re(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",116),e._uU(3,"Valide su identidad"),e.qZA(),e.TgZ(4,"ion-buttons",117)(5,"ion-button",118),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.setOpenCode(!1))}),e._uU(6,"Cancelar"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",119)(9,"div",120),e._UZ(10,"img",121),e.qZA(),e.TgZ(11,"div",122)(12,"div",123)(13,"h1"),e._uU(14," Verificacion de identidad "),e.qZA()(),e.TgZ(15,"div",124)(16,"p"),e._uU(17),e.qZA()(),e.YNc(18,Me,3,0,"div",125),e.TgZ(19,"form",45),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.approveCode())}),e.YNc(20,ke,3,0,"div",126),e.YNc(21,Fe,3,0,"div",125),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(17),e.AsE(" Se enviara un mesnaje de texto al ",t.vehiculo.celularPropietariox3," ****** ",t.vehiculo.celularPropietarioLast," "),e.xp6(1),e.Q6J("ngIf",!t.codeValidation),e.xp6(1),e.Q6J("formGroup",t.formSendCode),e.xp6(1),e.Q6J("ngIf",t.codeValidation),e.xp6(1),e.Q6J("ngIf",t.codeValidation)}}function Ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-content",2)(1,"div",3)(2,"main",4)(3,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e._UZ(4,"img",6),e.TgZ(5,"div",7)(6,"h1"),e._uU(7,"Registro"),e.qZA()(),e.TgZ(8,"div",8)(9,"input",9),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.searchConductor(o,!1))}),e.qZA(),e.YNc(10,Q,1,0,"ion-icon",10),e.YNc(11,H,3,0,"div",11),e.YNc(12,K,3,0,"div",11),e.YNc(13,L,1,0,"ion-icon",12),e.TgZ(14,"label",13),e._uU(15,"Cedula"),e.qZA()(),e.YNc(16,W,8,4,"div",14),e.YNc(17,ie,8,4,"div",14),e.YNc(18,se,8,4,"div",14),e.YNc(19,de,7,2,"div",15),e.YNc(20,he,2,0,"ion-button",16),e.qZA()()(),e.TgZ(21,"ion-modal",17,18),e.YNc(23,fe,90,41,"ng-template"),e.qZA(),e.TgZ(24,"ion-modal",17,19),e.YNc(26,xe,74,15,"ng-template"),e.qZA(),e.TgZ(27,"ion-modal",17,20),e.YNc(29,Pe,79,13,"ng-template"),e.qZA(),e.TgZ(30,"ion-modal",17,21),e.YNc(32,qe,79,13,"ng-template"),e.qZA(),e.TgZ(33,"ion-modal",17),e.YNc(34,Ue,28,0,"ng-template"),e.qZA(),e.TgZ(35,"ion-modal",17),e.YNc(36,Ee,124,0,"ng-template"),e.qZA(),e.TgZ(37,"ion-modal",17,22),e.YNc(39,Re,22,6,"ng-template"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.registroForm),e.xp6(7),e.Q6J("ngIf",t.newTercero),e.xp6(1),e.Q6J("ngIf",t.checkTercero),e.xp6(1),e.Q6J("ngIf",t.incompletoTercero),e.xp6(1),e.Q6J("ngIf",t.alertTercero),e.xp6(3),e.Q6J("ngIf",t.checkTercero),e.xp6(1),e.Q6J("ngIf",!t.isPropietario),e.xp6(1),e.Q6J("ngIf",!t.isTenedor),e.xp6(1),e.Q6J("ngIf",t.checkVehicle&&t.checkPropi&&t.checkTened),e.xp6(1),e.Q6J("ngIf",t.completeData&&t.checkVehicle&&t.checkPropi&&t.checkTened),e.xp6(1),e.Q6J("isOpen",t.isModalOpen),e.xp6(3),e.Q6J("isOpen",t.isModalOpen2),e.xp6(3),e.Q6J("isOpen",t.isModalOpen3),e.xp6(3),e.Q6J("isOpen",t.isModalOpen4),e.xp6(3),e.Q6J("isOpen",t.isModalOpen5),e.xp6(2),e.Q6J("isOpen",t.isModalOpen6),e.xp6(2),e.Q6J("isOpen",t.modalCodeOpen)}}function Se(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"app-documentos",133),e.NdJ("save",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.saveDocs(o))})("cancel",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelDocs())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("dataTercero",t.dataTercero)}}let I=(()=>{class n{constructor(t,i,o,a,c,s,r,g,m,h){this.formBuilder=t,this.loading=i,this.user=o,this.alertController=a,this.photo=c,this.platform=s,this.router=r,this.reg=g,this.auth=m,this.menu=h,this.dataTercero=[],this.registroForm=p.cw,this.formNewVehicle=p.cw,this.formNewDriver=p.cw,this.formNewProp=p.cw,this.formNewTene=p.cw,this.formSendCode=p.cw,this.newVehicle=!1,this.checkVehicle=!1,this.newTercero=!1,this.checkTercero=!1,this.alertVehiculo=!1,this.incompletoVehiculo=!1,this.incompletoTenedor=!1,this.incompletoPropiet=!1,this.incompletoTercero=!1,this.alertTercero=!1,this.checkImagen=!1,this.checkPropi=!0,this.newPropiet=!1,this.alertPropi=!1,this.checkTened=!0,this.newTenedor=!1,this.alertTened=!1,this.isModalOpen=!1,this.isModalOpen2=!1,this.isModalOpen3=!1,this.isModalOpen4=!1,this.isModalOpen5=!1,this.isModalOpen6=!1,this.loadDocuments=!1,this.modalCodeOpen=!1,this.validateLoadDocs=!0,this.validateSaveDocs=!0,this.docsFailVehicle=[],this.docsFailDriver=[],this.codeValidation=!1,this.jsonDocs=[],this.vista=[],this.openDocs=!1,this.editDataItem=void 0,this.isNew=void 0,this.documents_conductor=[],this.documents_vehiculo=[],this.propietario={cedula:"",nombres:"",apellidos:"",correo:"",celular:"",direccion:"",fechaNacimiento:"",nombreContacto:"",celularContacto:"",parentesco:""},this.tenedor={cedula:"",nombres:"",apellidos:"",correo:"",celular:"",direccion:"",fechaNacimiento:"",nombreContacto:"",celularContacto:"",parentesco:""},this.vehiculo={placa:"",cedulaProp:"",cedulaTene:"",claseVehiculo:"",codigoClase:"",carroceria:"",codigoCarroceria:"",fechaSoat:!1,fechaTecno:!1,color:"",codigoColor:"",linea:"",codigoLinea:"",modelo:"",repoten:"",articulado:"",marca:"",codigoMarca:"",remolque:"",empresaSatelital:"",codigoSatelital:"",usuarioSatelital:"",claveSatelital:"",cuentaSatelital:"",celularPropietario:"",celularPropietariox3:"",celularPropietarioLast:""},this.conductor={cedula:"",nombres:"",apellidos:"",correo:"",celular:"",direccion:"",fechaNacimiento:"",nombreContacto:"",celularContacto:"",parentesco:"",codigoParentesco:"",fechaSeguridad:"",fechaLicencia:"",terms:{con_rec_pub:[],grd_pod_pub:[],rec_pub_gnr:[],vin_per_pub:[],per_tri_eco:[],gre_rec_pub:[]}},this.aceptTermData=!1,this.completeData=!1,this.aceptTerms=!1,this.hubImag={licencia1:{webviewPath:!1},licencia2:{webviewPath:!1},cedula1:{webviewPath:!1},cedula2:{webviewPath:!1},tarjePro1:{webviewPath:!1},tarjePro2:{webviewPath:!1},soat1:{webviewPath:!1},tecnomecanica:{webviewPath:!1},fotoremol:{webviewPath:!1},tarjePror1:{webviewPath:!1},tarjePror2:{webviewPath:!1},cedula_pro1:{webviewPath:!1},cedula_pro2:{webviewPath:!1},cedula_ten1:{webviewPath:!1},cedula_ten2:{webviewPath:!1},fotovehi1:{webviewPath:!1},fotovehi2:{webviewPath:!1},fotovehi3:{webviewPath:!1},fotovehi4:{webviewPath:!1},fotoperfil:{webviewPath:!1},seguridadsocial:{webviewPath:!1}},this.cedulaFro=[],this.cedulaPos=[],this.licencFro=[],this.licencPos=[],this.dataVehiculo={},this.dataClases=[],this.dataMarcas=[],this.dataCarroc=[],this.dataLineas=[],this.dataColores=[],this.dataParentes=[],this.dataSatelital=[],this.terms={con_rec_pub:[],grd_pod_pub:[],rec_pub_gnr:[],vin_per_pub:[],per_tri_eco:[],gre_rec_pub:[],gre_rec_pub_pro:[],gre_rec_pub_ten:[]},this.gre_rec_pub_pro=!1,this.gre_rec_pub_ten=!1,this.filteredData=[],this.searchControl=new p.NI,this.keyword="name",this.isPropietario=!0,this.isTenedor=!0,this.questions=[{text:"\xbfPor su cargo o actividad maneja recursos publicos?",formControlName:"con_rec_pub"},{text:"\xbfPor su cargo o actividad ejerce algun grado del poder publico?",formControlName:"grd_pod_pub"},{text:"\xbfPor su actividad u oficio goza usted de reconocimiento publico?",formControlName:"rec_pub_gnr"},{text:"\xbfExiste algun vinculo entre usted y alguna persona publicamente expuesta?",formControlName:"vin_per_pub"},{text:"\xbfEs usted sujeto de obligaciones tributarias en otro pais o grupo de paises?",formControlName:"per_tri_eco"},{text:"\xbfPertenece usted a gremios o asociaciones reconocidas?",formControlName:"gre_rec_pub"}],this.actionSheetButtons=[{text:"Salir",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}],this.initializeApp(),this.documents_vehiculo=this.user.documents_vehiculo,this.documents_conductor=this.user.documents_conductor,this.registroForm=this.formBuilder.group({placa:["",[p.kI.required]],cedula:["",[p.kI.required]],propietario:[],tenedor:[]}),this.formNewVehicle=this.formBuilder.group({claseVehiculo:["",[p.kI.required]],carroceria:["",[p.kI.required]],linea:["",[p.kI.required]],color:["",[p.kI.required]],fechaSoat:[""],fechaTecno:[""],marca:["",[p.kI.required]],modelo:["",[p.kI.required]],remolque:[""],empresaSatelital:["",[p.kI.required]],usuarioSatelital:["",p.kI.required],claveSatelital:["",p.kI.required],cuentaSatelital:[""]}),this.formNewDriver=t.group({nombres:["",[p.kI.required]],apellidos:["",[p.kI.required]],correo:["",[p.kI.required,p.kI.email]],celular:["",[p.kI.required]],direccion:["",[p.kI.required]],fechaNacimiento:["",[p.kI.required]],nombreContacto:["",[p.kI.required]],celularContacto:["",[p.kI.required]],parentesco:["",[p.kI.required]],fechaSeguridad:[],fechaLicencia:[],terms:t.group({con_rec_pub:!1,grd_pod_pub:!1,rec_pub_gnr:!1,vin_per_pub:!1,per_tri_eco:!1,gre_rec_pub:!1})}),this.formNewProp=t.group({nombres:["",[p.kI.required]],apellidos:["",[p.kI.required]],correo:["",[p.kI.required]],celular:["",[p.kI.required]],direccion:["",[p.kI.required]],fechaNacimiento:[""],nombreContacto:[""],celularContacto:[""],parentesco:[""],gre_rec_pub:!1}),this.formNewTene=t.group({nombres:["",[p.kI.required]],apellidos:["",[p.kI.required]],correo:["",[p.kI.required]],celular:["",[p.kI.required]],direccion:["",[p.kI.required]],fechaNacimiento:[""],nombreContacto:[""],celularContacto:[""],parentesco:[""],gre_rec_pub:!1}),this.formSendCode=t.group({codigo:["",[p.kI.required]]})}ngOnInit(){this.platform.backButton.subscribeWithPriority(10,()=>{this.router.navigate(["/login"])})}initializeApp(){this.platform.ready().then(()=>{this.setStatusBarColor()})}setStatusBarColor(){this.platform.is("android")?D.A_.setBackgroundColor({color:"#5C8CDF"}):this.platform.is("ios")&&D.A_.setStyle({style:D.bg.Dark})}ngAfterViewInit(){const t=document.getElementById("term-scroll");null==t||t.addEventListener("click",function(){console.log("click")}),null==t||t.addEventListener("scroll",function(){console.log(t.scrollHeight),t.scrollHeight-t.scrollTop===t.clientHeight&&console.log("fin")})}validateTerms(){this.aceptTermData||this.setOpenTermsData(!0)}saveDocs(t){}cancelDocs(){}getClases(){return(0,_.mG)(this,void 0,void 0,function*(){try{const t=yield this.reg.getClasevehiculo(this.token).toPromise();if(t.status){const i=t.data;for(let o=0;o<i.length;o++){const a=i[o];this.dataClases.push({id:a.codigoVehclase,name:a.nombreSiatxxxx,tipo:a.tipoxxVehiculo})}}}catch(t){console.log(t)}})}getMarcas(){return(0,_.mG)(this,void 0,void 0,function*(){try{const t=yield this.reg.getMarcas(this.token).toPromise();if(t.status){const i=t.data;for(let o=0;o<i.length;o++){const a=i[o];this.dataMarcas.push({id:a.codigoVehmarca,name:a.nombreVehmarca})}}}catch(t){console.log(t)}})}getCarroc(t){this.dataCarroc=[],this.reg.getCarrocerias(t,this.token).subscribe(i=>{if(i.status){const o=i.data;for(let a=0;a<o.length;a++){const c=o[a];this.dataCarroc.push({id:c.codigoVehcarro,name:c.nombrevehcarcl})}}})}getCarroc2(t){return(0,_.mG)(this,void 0,void 0,function*(){try{this.dataCarroc=[];const i=yield this.reg.getCarrocerias(t,this.token).toPromise();if(i.status){const o=i.data;for(let a=0;a<o.length;a++){const c=o[a];this.dataCarroc.push({id:c.codigoVehcarro,name:c.nombrevehcarcl})}}}catch(i){console.log(i)}})}getClaseLinea(t){return(0,_.mG)(this,void 0,void 0,function*(){try{this.dataLineas=[];const i=yield this.reg.getLineas(t,"",this.token).toPromise();if(i.status){const o=i.data;for(let a=0;a<o.length;a++){const c=o[a];this.dataLineas.push({id:c.codigoVehlinea,name:c.nombreVehlinea})}}}catch(i){console.log(i)}})}getColores(){return(0,_.mG)(this,void 0,void 0,function*(){try{const t=yield this.reg.getColores(this.token).toPromise();if(t.status){const i=t.data;for(let o=0;o<i.length;o++){const a=i[o];this.dataColores.push({id:a.codigoVehcolor,name:a.nombreVehcolor})}}}catch(t){console.log(t)}})}getParentesco(){return(0,_.mG)(this,void 0,void 0,function*(){try{const t=yield this.reg.getParent(this.token).toPromise();if(t.status){const i=t.data;for(let o=0;o<i.length;o++){const a=i[o];this.dataParentes.push({id:a.codigoParentes,name:a.nombreParentes})}console.log(this.dataParentes)}}catch(t){console.log(t)}})}getSatelital(){return(0,_.mG)(this,void 0,void 0,function*(){try{const t=yield this.reg.getSatelital(this.token).toPromise();if(console.log(t),t.status){const i=t.data;for(let o=0;o<i.length;o++){const a=i[o];this.dataSatelital.push({id:a.codigoVehgpsxx,name:a.nombreVehgpsxx})}}}catch(t){console.log(t)}})}searchInfoVeh(t,i,o,a,c){return{code:!0}}selectEvent(t){return(0,_.mG)(this,void 0,void 0,function*(){const i=yield this.loading.create({message:"Cargando Datos..."});i.present(),this.formNewVehicle.patchValue({carroceria:""}),"ARTICULADO"==t.tipo?(this.vehiculo.articulado=!0,this.dataTercero.articulado=!0,this.formNewVehicle.get("remolque").setValidators(p.kI.required)):(this.vehiculo.articulado=!1,this.vehiculo.remolque="",this.dataTercero.articulado=!1,this.formNewVehicle.patchValue({remolque:""}),this.formNewVehicle.get("remolque").setValidators("")),this.vehiculo.claseVehiculo=t.name,this.vehiculo.codigoClase=t.id,this.getCarroc2(t.id).then(o=>{i.dismiss()})})}onChangeSearch(t){}onFocused(t){}onBlurClase(t){var i;this.dataClases.find(a=>a.name===t.target.value)||null===(i=this.formNewVehicle.get("claseVehiculo"))||void 0===i||i.setValue("")}selectMarca(t){return(0,_.mG)(this,void 0,void 0,function*(){const i=yield this.loading.create({message:"Cargando Datos..."});i.present(),this.formNewVehicle.patchValue({linea:""}),this.vehiculo.codigoMarca=t.id,this.vehiculo.marca=t.name,this.getClaseLinea(t.id).then(o=>{i.dismiss()})})}onChangeMarca(t){}onFocusedMarca(t){setTimeout(()=>{this.scrollToAutocomplete()},200)}onBlurMarca(t){var i;this.dataMarcas.find(a=>a.name===t.target.value)||null===(i=this.formNewVehicle.get("marca"))||void 0===i||i.setValue("")}scrollToAutocomplete(){window.scrollTo({top:this.autocompleteContainer.nativeElement.offsetTop-100,behavior:"smooth"})}selectCarroceria(t){this.vehiculo.codigoCarroceria=t.id,this.vehiculo.carroceria=t.name}onChangeCarroceria(t){}onFocusedCarroceria(t){}onBlurCarroceria(t){var i;this.dataCarroc.find(a=>a.name===t.target.value)||null===(i=this.formNewVehicle.get("carroceria"))||void 0===i||i.setValue("")}selectLinea(t){this.vehiculo.linea=t.name,this.vehiculo.codigoLinea=t.id}onChangeLinea(t){}onFocusedLinea(t){}onBlurLinea(t){var i;this.dataLineas.find(a=>a.name===t.target.value)||null===(i=this.formNewVehicle.get("linea"))||void 0===i||i.setValue("")}selectColor(t){this.vehiculo.color=t.name,this.vehiculo.codigoColor=t.id}onChangeColor(t){}onFocusedColor(t){}onBlurColor(t){var i;this.dataColores.find(a=>a.name===t.target.value)||null===(i=this.formNewVehicle.get("color"))||void 0===i||i.setValue("")}selectParente(t){console.log(t)}onChangeParente(t){this.conductor.codigoParentesco=t.target.value}selectSatelital(t){this.vehiculo.empresaSatelital=t.name,this.vehiculo.codigoSatelital=t.id}onChangeSatelital(t){}onFocusedSatelital(t){console.log(t)}onBlurSatelital(t){var i;console.log(t.target.value),this.dataSatelital.find(a=>a.name===t.target.value)||null===(i=this.formNewVehicle.get("empresaSatelital"))||void 0===i||i.setValue("")}onSubmit(){this.completeData&&this.saveDocument()}saveUser(){return(0,_.mG)(this,void 0,void 0,function*(){if(!this.checkTercero||!this.checkVehicle)return;if(!this.isTenedor&&!this.registroForm.value.tenedor)return void this.presentAlert("Alerta","","Es Requerida cedula del tenedor","Cerrar");if(!this.isPropietario&&!this.registroForm.value.propietario)return void this.presentAlert("Alerta","","Es Requerida cedula del propietario","Cerrar");var t={codigoTercerox:this.conductor.cedula,numeroPlacaxxx:this.vehiculo.placa,codigoRxxxxxxx:this.vehiculo.remolque,codigoPropieta:this.propietario.cedula,codigoTenedorx:this.tenedor.cedula,indicaIgualpro:this.isPropietario,indicaIgualten:this.isTenedor,nombreContacto:this.conductor.nombreContacto,movilxContacto:this.conductor.celularContacto,parentContacto:this.conductor.parentesco,nombreReferen1:"",movilxReferen1:"",empresReferen1:"",fechaxTecnicox:this.vehiculo.fechaTecno,fechaxSoatxxxx:this.vehiculo.fechaSoat,indicaProptene:"",numeroEstadoxx:1,estadoSiatxx:"INACTIVO",usuariCreacion:"",fechaxCreacion:"",ciudadCreacion:"",apiSeguridad:"",apiFotoConductor:this.hubImag.fotoperfil.webviewPath,apiTarjeta1:this.hubImag.tarjePro.webviewPath,apiLicencia1:this.hubImag.licencia1.webviewPath,apiLicencia2:this.hubImag.licencia2.webviewPath,apiTarjeta2:"",apiSoat1:this.hubImag.soat1.webviewPath,apiSoat2:"",apiRecibo:"",apiTrailer:this.hubImag.fotoremol.webviewPath,apiRegistroTrailer:this.hubImag.tarjePror.webviewPath,apiCertificadoTrailer:"",apiFoto1:this.hubImag.fotovehi1.webviewPath,apiFoto2:this.hubImag.fotovehi2.webviewPath,apiFoto3:this.hubImag.fotovehi3.webviewPath,apiFoto4:this.hubImag.fotovehi4.webviewPath,apiCedula1:this.hubImag.cedula1.webviewPath,apiCedula2:this.hubImag.cedula2.webviewPath,apiTecnico1:this.hubImag.tecnomecanica.webviewPath,apiTecnico2:"",indicaApruebax:"",usuariApruebax:"",fechaxApruebax:"",indicaSatelital:"",fechaxLicencia:this.conductor.fechaLicencia,nombreTercerox:this.conductor.nombres,apell1Tercerox:this.conductor.apellidos.split(" ")[0],apell2Tercerox:this.conductor.apellidos.split(" ")[1],codigoCiudadxx:"",movilxTercerox:"",emailxTercerox:"",numeroModeloxx:this.vehiculo.modelo,numeroRepotenc:"",codigoVehmarca:this.vehiculo.codigoMarca,codigoVehlinea:this.vehiculo.codigoLinea,codigoVehclase:this.vehiculo.codigoClase,codigoVehcolor:this.vehiculo.codigoColor,codigoVehcarro:this.vehiculo.codigoCarroceria,sateliFechaxxx:"",change:this.codeValidation,AppConrecpub:this.terms.con_rec_pub,AppGrdpodpub:this.terms.grd_pod_pub,AppRecpubgnr:this.terms.rec_pub_gnr,AppVinperpub:this.terms.vin_per_pub,AppPertrieco:this.terms.per_tri_eco,AppGrerecpub:this.terms.gre_rec_pub,propietario:{indicaIgualpro:!this.isPropietario,codigoTercerox:this.propietario.cedula,nombreTercerox:this.propietario.nombres,apell1Tercerox:this.propietario.apellidos,apell2Tercerox:"",codigoCiudadxx:"",movilxTercerox:this.propietario.celular,emailxTercerox:this.propietario.correo,AppGrerecpubPro:this.terms.gre_rec_pub_pro},tenedor:{indicaIgualten:!this.isTenedor,codigoTercerox:this.tenedor.cedula,nombreTercerox:this.tenedor.nombres,apell1Tercerox:this.tenedor.apellidos,apell2Tercerox:"",codigoCiudadxx:"",movilxTercerox:this.tenedor.celular,emailxTercerox:this.tenedor.correo,AppGrerecpubTen:this.terms.gre_rec_pub_ten}};yield this.user.registroApiAldia(t,this.token).then(o=>{},o=>{this.loadingData.dismiss(),this.presentAlert("Error","Se presento un error al guardar los datos",o.error.message||o.message||"Error desconocido","Cerrar")});const i=[{text:"Continuar",handler:()=>{this.menu.enable(!0),this.router.navigate(["/home"])}}];yield this.user.loginUser(this.conductor.cedula,this.vehiculo.placa).then(o=>{this.loadingData.dismiss(),this.user.setToken(o.access_token),localStorage.setItem("conductor",this.conductor.cedula),localStorage.setItem("placa",this.vehiculo.placa),this.user.onLoginChange.next(o.access_token),this.presentAlertButtons("Exito","Usuario Creado","Inicia Sesion","Cerrar",i)},o=>{this.loadingData.dismiss(),this.presentAlert("Error","Se presento un error en el app",o.error.message||o.message||"Error desconocido","Cerrar")})})}saveDocument(){return(0,_.mG)(this,void 0,void 0,function*(){this.jsonDocs={files:[]},this.loadingData=yield this.loading.create({message:"Generando Usuario..."}),this.loadingData.present(),this.hubImag.fotoperfil.base64&&this.jsonDocs.files.push({codigo:this.conductor.cedula,tipo:"fotoperfil",tipoRegistro:"conductor",data64:this.hubImag.fotoperfil.base64}),this.user.cargaDocumentos(this.jsonDocs).subscribe(t=>{const i=t.data;this.loadDocuments=!0,i.fotoperfil&&(this.hubImag.fotoperfil.webviewPath=i.fotoperfil)},t=>{this.loadingData.dismiss(),this.presentAlert("Error","Se presento un error al guardar los documentos",t.error.message||t.message||"Error desconocido","Cerrar")},()=>{this.aceptTerms?this.saveUser():this.getDataFirma(this.conductor.cedula,2).then(t=>(0,_.mG)(this,void 0,void 0,function*(){t.status?(this.aceptTerms=!0,yield this.saveUser()):(this.setOpenTerms(!0),this.loadingData.dismiss())}))})})}openDocumentController(t,i,o,a){"conductor"==i&&""!=t?(this.dataTercero.cedula=t,this.dataTercero.placa="",this.dataTercero.docs=a,this.setOpenTer(!1),this.modal2.dismiss(),this.openDocs=!0):"vehiculo"==i&&""!=t&&(this.vehiculo.articulado&&(this.dataTercero.articulado=this.vehiculo.remolque),this.dataTercero.placa=t,this.dataTercero.cedula="",this.dataTercero.docs=a,this.setOpenVeh(!1),this.modal.dismiss(),this.openDocs=!0)}searchVehicle(t){return(0,_.mG)(this,void 0,void 0,function*(){var i=!0;let o=document.getElementById("placa");if(o.value=t.target.value.toUpperCase(),t.target.value.length>5){let f=o.value;this.vehiculo.placa=f,this.dataTercero.placa=f,this.dataTercero.cedula="",this.formNewVehicle.reset(),this.vehiculo.claseVehiculo="",this.vehiculo.carroceria="",this.vehiculo.fechaSoat="",this.vehiculo.fechaTecno="",this.vehiculo.marca="",this.vehiculo.color="",this.vehiculo.modelo="",this.hubImag.soat1=[],this.hubImag.tecnomecanica=[],this.hubImag.tarjePro=[],this.hubImag.tarjePror=[],this.hubImag.fotoremol=[],this.hubImag.fotovehi1=[],this.hubImag.fotovehi2=[],this.hubImag.fotovehi3=[],this.hubImag.fotovehi4=[],this.loadingData=yield this.loading.create({message:"Buscado Vehiculo..."}),this.loadingData.present();try{const x=yield this.reg.getDataVehiculo(f);var a="<ul>";const u=x.data[0],w=u.codigoTercerox;if(this.vehiculo.celularPropietario=u.celularPropietario,u.celularPropietario&&(this.vehiculo.celularPropietariox3=u.celularPropietario.slice(0,3),this.vehiculo.celularPropietarioLast=u.celularPropietario.charAt(u.celularPropietario.length-1)),null!=w&&!this.codeValidation)return this.presentAlert("Alerta","","Vehiculo ya registra en el app","Cerrar"),this.incompletoVehiculo=!1,this.setOpenCode(!0),i=!1,void this.loadingData.dismiss();if(this.vehiculo.codigoMarca=u.codigoVehmarca,this.vehiculo.codigoLinea=u.codigoVehlinea,this.vehiculo.codigoClase=u.codigoVehclase,this.vehiculo.codigoColor=u.codigoVehcolor,this.vehiculo.codigoCarroceria=u.codigoVehcarro,this.vehiculo.marca=u.nombreVehmarca,this.vehiculo.carroceria=u.nombreVehcarro,this.vehiculo.claseVehiculo=u.nombreClaseVeh,this.vehiculo.linea=u.nombreVehlinea,this.vehiculo.color=u.nombreVehcolor,this.vehiculo.remolque=u.placaRemolque,this.vehiculo.usuarioSatelital=u.sateliUsuariox,this.vehiculo.claveSatelital=u.satelContrasen,this.vehiculo.codigoSatelital=u.sateliEmpresax,this.vehiculo.empresaSatelital=u.nombreAppempgp,this.vehiculo.cuentaSatelital=u.satelCuentaxx,this.vehiculo.celularPropietario=u.celularPropietario,u.celularPropietario&&(this.vehiculo.celularPropietariox3=u.celularPropietario.slice(0,3),this.vehiculo.celularPropietarioLast=u.celularPropietario.charAt(u.celularPropietario.length-1)),this.vehiculo.fechaSoat=u.fechaxSoatxxxx,this.vehiculo.fechaTecno=u.fechaxTecnimec,this.formNewVehicle.patchValue({fechaSoat:u.fechaxSoatxxxx,fechaTecno:u.fechaxTecnimec}),yield this.getClases(),yield this.getMarcas(),yield this.getCarroc2(u.codigoVehclase),yield this.getClaseLinea(u.codigoVehmarca),yield this.getColores(),yield this.getSatelital(),u.numeroModeloxx?this.vehiculo.modelo=u.numeroModeloxx:(i=!1,a+="<li> Modelo </li>"),u.fechaxSoatxxxx&&(this.vehiculo.fechaSoat=u.fechaxSoatxxxx),u.fechaxTecnimec&&(this.vehiculo.fechaTecno=u.fechaxTecnimec),"ARTICULADO"==u.tipoxxVehiculo?(this.dataTercero.articulado=!0,this.vehiculo.articulado=!0,this.vehiculo.remolque||(i=!1,a+="<li> Es necesario Remolque </li>")):(this.vehiculo.articulado=!1,this.dataTercero.articulado=!1),i){u.documents.status||(this.docsFailVehicle=u.documents.documents);const v=yield this.validateDocuments(this.vehiculo.placa,this.documents_vehiculo,"vehiculo");console.log(v),v.status?(this.incompletoVehiculo=!1,this.newVehicle=!1,this.checkVehicle=!0):(this.openDocs=!0,this.openDocumentController(this.vehiculo.placa,"vehiculo",!0,v.data))}else this.incompletoVehiculo=!0,this.checkVehicle=!1,this.setOpenVeh(!0),this.presentAlert("Alerta","Es necesario ingresar:",a,"Cerrar"),this.loadingData.dismiss()}catch(x){this.user.getVehiculoByPlaca(f).subscribe(u=>(0,_.mG)(this,void 0,void 0,function*(){if(200==u.code&&u.rows>0){const v=u.view.data[0];var w="<ul>";if(this.vehiculo.marca=v.marca,this.vehiculo.carroceria=v.carroceria,this.vehiculo.claseVehiculo=v.clase_vehiculo,this.vehiculo.linea=v.clase_linea,this.vehiculo.color=v.color,this.getClases().then(T=>{const b=this.dataClases.find(Z=>Z.name===v.clase_vehiculo);null!=b?(this.vehiculo.codigoClase=b.id,this.vehiculo.claseVehiculo=b.name,this.getCarroc(b.id)):(i=!1,w+="<li>Clase Vehiculo</li>")}),this.getMarcas().then(T=>{const b=this.dataMarcas.find(Z=>Z.name===v.marca);null!=b?(this.getClaseLinea(b.id),this.vehiculo.codigoMarca=b.id,this.vehiculo.marca=b.name):(i=!1,w+="<li>Marca</li>",this.vehiculo.marca="",this.vehiculo.codigoMarca="",this.formNewVehicle.patchValue({marca:""}))}),this.getColores().then(T=>{const b=this.dataColores.find(Z=>Z.name===v.color);null!=b?(this.vehiculo.codigoColor=b.id,this.vehiculo.color=b.name):(i=!1,w+="<li>Color</li>",this.vehiculo.color="",this.vehiculo.codigoColor="",this.formNewVehicle.patchValue({color:""}))}),this.getSatelital().then(T=>{}),v.modelo?this.vehiculo.modelo=v.modelo:(i=!1,w+="<li>Modelo </li>"),v.vigencia_soat&&(this.vehiculo.fechaSoat=v.vigencia_soat),v.vigencia_tecnomecanica&&(this.vehiculo.fechaTecno=v.vigencia_tecnomecanica),this.vehiculo.articulado="ARTICULADO"==v.tipo_vehiculo,w+="</ul>",i){const T=yield this.validateDocuments(this.vehiculo.placa,this.documents_vehiculo,"vehiculo");T.status?(this.incompletoVehiculo=!1,this.newVehicle=!1,this.checkVehicle=!0):(this.openDocs=!0,this.openDocumentController(this.vehiculo.placa,"vehiculo",!0,T.data))}else this.incompletoVehiculo=!0,this.checkVehicle=!1,this.setOpenVeh(!0),this.presentAlert("Alerta","Es necesario ingresar:",w,"Cerrar"),this.loadingData.dismiss();this.newVehicle=!1}else this.newVehicle=!0,this.checkVehicle=!1,this.loadingData.dismiss()}),u=>(0,_.mG)(this,void 0,void 0,function*(){this.newVehicle=!0,this.incompletoVehiculo=!1,this.checkVehicle=!1,console.log("ERROR",u),yield this.getClases(),yield this.getMarcas(),yield this.getColores(),yield this.getSatelital(),this.loadingData.dismiss()}))}}})}validateDocuments(t,i,o){return(0,_.mG)(this,void 0,void 0,function*(){const a=[],c=[];i.forEach(r=>{r.articulado&&!this.vehiculo.articulado||r.docs.forEach(g=>{a.push(g.codigo)})});const s=a.join(",");try{const r=yield this.photo.getFotosTercero(t,s,o,this.vehiculo.remolque).toPromise(),g=this.removeMatchingKeys(r);if(this.loadingData.dismiss(),201===g.code){const m=[];for(const h in g.data)if(!g.data[h]){const x=this.user.buscarCodigoEnDocumentos(h);x&&m.push(x)}return{status:!1,data:m}}return{status:!0,data:c}}catch(r){return this.loadingData.dismiss(),console.error("Error al obtener fotos del tercero:",r),!0}})}searchConductor(t,i){return(0,_.mG)(this,void 0,void 0,function*(){var o;if(o=i?this.conductor.cedula:t.target.value,this.loadingData=yield this.loading.create({message:"Buscado Cedula..."}),this.loadingData.present(),o.length>=6){this.aceptTermData=!1;let a=o;this.conductor.cedula=o,this.dataTercero.cedula=o,this.dataTercero.placa="",this.user.getTemporalToken(a,"na").subscribe(c=>{if(0!=c.access_token)this.token=c.access_token,this.aceptTermData||this.getDataFirma(a,1).then(s=>{if(!s.status)return this.setOpenTermsData(!0),void this.loadingData.dismiss();this.aceptTermData=!0,this.getDriverApi3sL(this.conductor.cedula,!1)});else if(0==c.access_token){const s=[{text:"Cambiar veh\xedculo",handler:()=>{console.log("Cambiar veh\xedculo seleccionado"),this.getDriverApi3sL(this.conductor.cedula,!0)}},{text:"Iniciar sesi\xf3n",handler:()=>{this.router.navigate(["/login"]),this.checkTercero=!1,this.alertTercero=!0}}];this.loadingData.dismiss(),this.presentAlertButtons("Alerta","","Conductor ya registra en el app","Cerrar",s)}})}else this.loadingData.dismiss()})}getDriverApi3sL(t,i){this.formNewDriver.reset(),this.conductor.nombres="",this.conductor.apellidos="",this.conductor.correo="",this.conductor.celular="",this.conductor.direccion="",this.conductor.fechaNacimiento="",this.conductor.nombreContacto="",this.conductor.celularContacto="",this.conductor.fechaLicencia="",this.conductor.fechaSeguridad="",this.conductor.parentesco="",this.hubImag.cedula1=[],this.hubImag.cedula2=[],this.hubImag.licencia1=[],this.hubImag.licencia2=[],this.reg.getDataTercero(t).subscribe(o=>{if(this.getParentesco().then(c=>{}),o.data[0].numeroPlacaxxx&&!i){const c=[{text:"Cambiar veh\xedculo",handler:()=>{console.log("Cambiar veh\xedculo seleccionado"),this.processDataApi(o)}},{text:"Iniciar sesi\xf3n",handler:()=>{this.router.navigate(["/login"]),this.checkTercero=!1,this.alertTercero=!0}}];this.loadingData.dismiss(),this.presentAlertButtons("Alerta","","Conductor ya registra en el app","Cerrar",c)}else this.processDataApi(o);this.loadingData.dismiss()},o=>{this.alertTercero=!1,this.getDriverApi(t,!0)})}processDataApi(t){var i;return(0,_.mG)(this,void 0,void 0,function*(){const o=yield this.loading.create({message:"Buscado Cedula..."});o.present();var a=!0,s="<ul>";if(this.newTercero=!1,t.data[0].nombreTercerox?this.conductor.nombres=t.data[0].nombreTercerox:(a=!1,s+="<li>Nombres</li>"),t.data[0].apell1Tercerox||t.data[0].apell2Tercerox?this.conductor.apellidos=t.data[0].apell1Tercerox+" "+t.data[0].apell2Tercerox:(a=!1,s+="<li>Apellidos</li>"),t.data[0].emailxTercerox?this.conductor.correo=t.data[0].emailxTercerox:(a=!1,s+="<li>Correo</li>"),t.data[0].movilxContacto?this.conductor.celular=t.data[0].movilxContacto:(a=!1,s+="<li>Celular </li>"),t.data[0].direccTercerox?this.conductor.direccion=t.data[0].direccTercerox:(a=!1,s+="<li>Direccion </li>"),t.data[0].fechaxNacimien?this.conductor.fechaNacimiento=t.data[0].fechaxNacimien:(a=!1,s+="<li>Fecha Nacoimiento </li>"),t.data[0].nombreContacto?this.conductor.nombreContacto=t.data[0].nombreContacto:(a=!1,s+="<li>Nombre Contacto</li>"),t.data[0].movilxContacto?this.conductor.celularContacto=t.data[0].movilxContacto:(a=!1,s+="<li>Celular Contacto</li>"),t.data[0].nombreParentes?(this.conductor.parentesco=t.data[0].nombreParentes,null===(i=this.formNewDriver.get("parentesco"))||void 0===i||i.setValue(t.data[0].nombreParentes)):(a=!1,s+="<li>Parentesco</li>"),t.data[0].fechaxLicencia&&(this.conductor.fechaLicencia=t.data[0].fechaxLicencia),this.terms.con_rec_pub=t.data[0].AppConrecpub,this.terms.grd_pod_pub=t.data[0].AppGrdpodpub,this.terms.rec_pub_gnr=t.data[0].AppRecpubgnr,this.terms.vin_per_pub=t.data[0].AppVinperpub,this.terms.per_tri_eco=t.data[0].AppPertrieco,this.terms.gre_rec_pub=t.data[0].AppGrerecpub,this.terms.gre_rec_pub_pro=t.data[0].AppGrerecpubPro,this.terms.gre_rec_pub_ten=t.data[0].AppGrerecpubTen,s+="</ul>",a){var g,m,f=[];if(this.docsFailDriver=[],g=t.data[0].documents.status,!t.data[0].documents.status){m=t.data[0].documents.documents;for(let T=0;T<m.length;T++){const b=m[T];this.user.separarCamelCase(b.name);const y=this.user.buscarCodigoEnDocumentos(b.name);!y||f.push(y)}}const w=[];this.documents_conductor.forEach(T=>{T.docs.forEach(b=>{w.push(b.codigo)})});const v=w.join(",");this.photo.getFotosTercero(this.conductor.cedula,v,"conductor").toPromise().then(T=>{const b=this.removeMatchingKeys(T);if(o.dismiss(),"201"!=b.code&&g)this.incompletoTercero=!1,this.checkTercero=!0,this.setOpenTer(!1),o.dismiss();else{f=[];for(const Z in b.data)if(!b.data[Z]){const M=this.user.buscarCodigoEnDocumentos(Z);M&&f.push(M)}this.openDocs=!0,this.openDocumentController(this.conductor.cedula,"conductor",g,f),o.dismiss()}})}else this.incompletoTercero=!0,this.checkTercero=!1,this.presentAlert("Alerta","Es necesario ingresar:",s,"Cerrar"),this.setOpenTer(!0),o.dismiss()})}getDriverApi(t,i){var o=!0,a="<ul>";this.user.getTerceroByCedula(t).subscribe(c=>{if(console.log("Metodo Busqueda Siat"),200==c.code&&c.rows>0){this.getParentesco().then(g=>{});const s=c.data[0];if(s.nombre?this.conductor.nombres=s.nombre:this.conductor.nombres||(o=!1,a+="<li>Nombres</li>"),s.apellido?this.conductor.apellidos=s.apellido:this.conductor.apellidos||(o=!1,a+="<li>Apellido</li>"),s.email?this.conductor.correo=s.email:this.conductor.correo||(o=!1,a+="<li>Correo </li>"),s.celular?this.conductor.celular=s.celular:this.conductor.celular||(o=!1,a+="<li>Celular</li>"),s.direccion?this.conductor.direccion=s.direccion:this.conductor.direccion||(o=!1,a+="<li>Direccion</li>"),s.fecha_nacimiento?this.conductor.fechaNacimiento=s.fecha_nacimiento:this.conductor.fechaNacimiento||(o=!1,a+="<li>Fecha nacimiento</li>"),s.contacto_emergencia?this.conductor.nombreContacto=s.contacto_emergencia:this.conductor.nombreContacto||(o=!1,a+="<li>Contacto emergencia</li>"),s.telefono_contacto?this.conductor.celularContacto=s.telefono_contacto:this.conductor.celularContacto||(o=!1,a+="<li>Telefono contacto</li>"),s.parentesco_contacto?this.conductor.parentesco=s.parentesco_contacto:this.conductor.parentesco||(o=!1,a+="<li>Parentesco contacto</li>"),s.cedula1&&(this.hubImag.cedula1.webviewPath=s.cedula1),s.cedula2&&(this.hubImag.cedula2.webviewPath=s.cedula2),s.licencia1&&(this.hubImag.licencia1.webviewPath=s.licencia1),s.licencia2&&(this.hubImag.licencia2.webviewPath=s.licencia2),this.getDocument(t,"cedula1","conductor"),a+="</ul>",o){const g=[];this.documents_conductor.forEach(h=>{h.docs.forEach(f=>{g.push(f.codigo)})});const m=g.join(",");this.photo.getFotosTercero(this.conductor.cedula,m,"conductor").toPromise().then(h=>{this.loadingData.dismiss(),"201"==h.code?(this.loadingData.dismiss(),this.openDocs=!0,this.openDocumentController(this.conductor.cedula,"conductor",!0,[])):(this.loadingData.dismiss(),this.incompletoTercero=!1,this.checkTercero=!0,this.setOpenTer(!1))})}else this.loadingData.dismiss(),this.incompletoTercero=!0,this.checkTercero=!1,this.presentAlert("Alerta","Es necesario ingresar:",a,"Cerrar"),this.setOpenTer(!0);this.newTercero=!1}else i?(this.newTercero=!0,this.incompletoTercero=!1,this.checkTercero=!1):(this.incompletoTercero=!0,this.checkTercero=!1),this.loadingData.dismiss()},c=>{this.loadingData.dismiss(),this.getParentesco().then(s=>{}),i?(this.newTercero=!0,this.incompletoTercero=!1,this.checkTercero=!1):(this.incompletoTercero=!0,this.checkTercero=!1)})}getDocument(t,i,o){return(0,_.mG)(this,void 0,void 0,function*(){return yield this.photo.getFotoTercero(t,i,o).toPromise()})}getDataFirma(t,i){return(0,_.mG)(this,void 0,void 0,function*(){return yield this.user.getFirma(t,i,this.token).toPromise()})}getDataVehculo(){this.dataVehiculo={claseVehiculo:this.vehiculo.claseVehiculo,carroceria:this.vehiculo.carroceria,fechaSoat:this.vehiculo.fechaSoat,fechaTecno:this.vehiculo.fechaTecno,marca:this.vehiculo.marca}}removeMatchingKeys(t){return console.log(t),[["cedula1","cedula2"],["licencia1","licencia2"],["tarjePro1","tarjePro2"],["fotoremol","tarjePror1","tarjePror2"],["fotovehi1","fotovehi2","fotovehi3","fotovehi4"]].forEach(o=>{let a=!0;o.forEach(c=>{console.log(c),!1!==t.data[c]&&(a=!1)}),a&&o.slice(1).forEach(c=>{delete t.data[c]})}),console.log(t),t}nuevoVehiculo(){this.setOpenVeh(!0)}nuevoTercero(){this.setOpenTer(!0)}nuevoPropietario(){this.setOpenPro(!0)}nuevoTenedor(){this.setOpenTen(!0)}setOpenVeh(t){this.isModalOpen=t}setOpenTer(t){this.isModalOpen2=t}setOpenPro(t){this.isModalOpen3=t}setOpenTen(t){this.isModalOpen4=t}setOpenTermsData(t){this.isModalOpen5=t}setOpenTerms(t){this.isModalOpen6=t}setOpenCode(t){this.modalCodeOpen=t}checkPropietario(){this.isPropietario?(this.isPropietario=!1,this.checkPropi=!1,this.completeData=!1):(this.isPropietario=!0,this.checkPropi=!0,this.isTenedor&&(this.completeData=!0))}checkTenedor(){this.isTenedor?(this.isTenedor=!1,this.checkTened=!1,this.completeData=!1):(this.isTenedor=!0,this.checkTened=!0,this.isPropietario&&(this.completeData=!0))}onSubmitNewProp(){return(0,_.mG)(this,void 0,void 0,function*(){var t=!0,i={},o="<ul>";for(const a in this.formNewProp.controls)this.formNewProp.controls[a].invalid?(t=!1,o+="<li>"+a.charAt(0).toUpperCase()+a.slice(1)+"</li>"):(this.propietario[a]=this.formNewProp.value[a],i[a]=this.formNewProp.value[a]);if(o+="</ul>",i.codigoTercerox=this.propietario.cedula,i.conductor=!1,0==this.hubImag.cedula_pro1.length&&(this.presentAlert("Error","","Es necesario cargar: Foto Cedula","Cerrar"),t=!1),t){this.incompletoPropiet=!1,this.newPropiet=!1,this.checkPropi=!0;const a=yield this.reg.sendDataTercero(i);console.log(a),this.isTenedor&&(this.completeData=!0),this.isModalOpen3=!1}else this.incompletoPropiet=!0,this.newPropiet=!1,this.checkPropi=!1,this.presentAlert("Error","Es necesario ingresar:",o,"Cerrar")})}onSubmitNewTen(){return(0,_.mG)(this,void 0,void 0,function*(){var t=!0,i={},o="<ul>";for(const a in this.formNewTene.controls)this.formNewTene.controls[a].invalid?(t=!1,o+="<li>"+a.charAt(0).toUpperCase()+a.slice(1)+"</li>"):(this.tenedor[a]=this.formNewTene.value[a],i[a]=this.formNewTene.value[a]);o+="</ul>",i.codigoTercerox=this.tenedor.cedula,i.conductor=!1,console.log(i),t?(this.incompletoTenedor=!1,this.newTenedor=!1,this.checkTened=!0,yield this.reg.sendDataTercero(i),this.isPropietario&&(this.completeData=!0),this.isModalOpen4=!1):(this.incompletoTenedor=!0,this.newTenedor=!1,this.checkTened=!1,this.presentAlert("Error","Es necesario ingresar:",o,"Cerrar"))})}searchPropietario(t){return(0,_.mG)(this,void 0,void 0,function*(){var i=!0,o="<ul>";if(t.target.value.length>7){let a=t.target.value;this.propietario.cedula=a;const c=yield this.loading.create({message:"Buscado Cedula...",duration:1e3});a==this.conductor.cedula?(this.presentAlert("Alerta","El propietario y el conductor son la misma persona","","Cerrar"),this.isPropietario=!0,this.checkPropi=!0,this.incompletoPropiet=!1,this.registroForm.patchValue({propietario:""})):(this.user.getTerceroByCedula(a).subscribe(s=>{const r=s.data[0];this.newPropiet=!1,this.alertPropi=!1,this.propietario.nombres=r.nombre,this.propietario.apellidos=r.apellido,this.propietario.correo=r.email,this.propietario.celular=r.celular,this.propietario.direccion=r.direccion,this.propietario.fechaNacimiento=r.fecha_nacimiento,this.propietario.nombreContacto=r.contacto_emergencia,this.propietario.celularContacto=r.telefono_contacto,this.propietario.parentesco=r.parentesco_contacto,r.nombre?this.propietario.nombres=r.nombre:this.propietario.nombres||(i=!1,o+="<li>Nombres</li>"),r.apellido?this.propietario.apellidos=r.apellido:this.propietario.apellidos||(i=!1,o+="<li>Apellido</li>"),r.email?this.propietario.correo=r.email:this.propietario.correo||(i=!1,o+="<li>Correo </li>"),r.celular?this.propietario.celular=r.celular:this.propietario.celular||(i=!1,o+="<li>Celular</li>"),r.direccion?this.propietario.direccion=r.direccion:this.propietario.direccion||(i=!1,o+="<li>Direccion</li>"),r.fecha_nacimiento?this.propietario.fechaNacimiento=r.fecha_nacimiento:this.propietario.fechaNacimiento||(i=!1,o+="<li>Fecha nacimiento</li>"),r.contacto_emergencia?this.propietario.nombreContacto=r.contacto_emergencia:this.propietario.nombreContacto||(i=!1,o+="<li>Contacto emergencia</li>"),r.telefono_contacto?this.propietario.celularContacto=r.telefono_contacto:this.propietario.celularContacto||(i=!1,o+="<li>Telefono contacto</li>"),r.parentesco_contacto?this.propietario.parentesco=r.parentesco_contacto:this.propietario.parentesco||(i=!1,o+="<li>Parentesco contacto</li>"),r.cedula1?this.hubImag.cedula_pro1.webviewPath=r.cedula1:(o+="<li>Cedula Cara Frontal</li>",i=!1),r.cedula2?this.hubImag.cedula_pro2.webviewPath=r.cedula2:(o+="<li>Cedula Cara Posterior</li>",i=!1),i?(this.incompletoPropiet=!1,this.checkPropi=!0,1==this.isTenedor&&(this.checkTened=!0)):(this.incompletoPropiet=!0,this.checkPropi=!1,this.presentAlert("Alerta","Es necesario ingresar:",o,"Cerrar"),this.setOpenPro(!0))},s=>{this.newPropiet=!0,this.checkPropi=!1,this.incompletoPropiet=!1}),c.present())}})}searchTenedor(t){return(0,_.mG)(this,void 0,void 0,function*(){var i=!0,o="<ul>";if(t.target.value.length>7){let a=t.target.value;this.tenedor.cedula=a;const c=yield this.loading.create({message:"Buscado Cedula...",duration:1e3});if(a==this.conductor.cedula)return this.presentAlert("Alerta","El Tenedor y el conductor son la misma persona","","Cerrar"),this.isTenedor=!0,this.incompletoTenedor=!1,this.checkTened=!0,void this.registroForm.patchValue({tenedor:""});if(a==this.propietario.cedula)return this.presentAlert("Alerta","El Tenedor y el propietario son la misma persona","","Cerrar"),this.incompletoTenedor=!1,void(this.checkTened=!0);this.user.getTerceroByCedula(a).subscribe(s=>{const r=s.data[0];this.newTenedor=!1,this.alertTened=!1,this.tenedor.nombres=r.nombre,this.tenedor.apellidos=r.apellido,this.tenedor.correo=r.email,this.tenedor.celular=r.celular,this.tenedor.direccion=r.direccion,this.tenedor.fechaNacimiento=r.fecha_nacimiento,this.tenedor.nombreContacto=r.contacto_emergencia,this.tenedor.celularContacto=r.telefono_contacto,this.tenedor.parentesco=r.parentesco_contacto,r.nombre?this.tenedor.nombres=r.nombre:this.tenedor.nombres||(i=!1,o+="<li>Nombres</li>"),r.apellido?this.tenedor.apellidos=r.apellido:this.tenedor.apellidos||(i=!1,o+="<li>Apellido</li>"),r.email?this.tenedor.correo=r.email:this.tenedor.correo||(i=!1,o+="<li>Correo </li>"),r.celular?this.tenedor.celular=r.celular:this.tenedor.celular||(i=!1,o+="<li>Celular</li>"),r.direccion?this.tenedor.direccion=r.direccion:this.tenedor.direccion||(i=!1,o+="<li>Direccion</li>"),r.fecha_nacimiento?this.tenedor.fechaNacimiento=r.fecha_nacimiento:this.tenedor.fechaNacimiento||(i=!1,o+="<li>Fecha nacimiento</li>"),r.contacto_emergencia?this.tenedor.nombreContacto=r.contacto_emergencia:this.tenedor.nombreContacto||(i=!1,o+="<li>Contacto emergencia</li>"),r.telefono_contacto?this.tenedor.celularContacto=r.telefono_contacto:this.tenedor.celularContacto||(i=!1,o+="<li>Telefono contacto</li>"),r.parentesco_contacto?this.tenedor.parentesco=r.parentesco_contacto:this.tenedor.parentesco||(i=!1,o+="<li>Parentesco contacto</li>"),r.cedula1?this.hubImag.cedula_ten1.webviewPath=r.cedula1:(o+="<li>Cedula Cara Frontal</li>",i=!1),r.cedula2?this.hubImag.cedula_ten2.webviewPath=r.cedula2:(o+="<li>Cedula Cara Posterior</li>",i=!1),i?(this.incompletoTenedor=!1,this.checkTened=!0):(this.incompletoTenedor=!0,this.checkTened=!1,this.presentAlert("Alerta","Es necesario ingresar:",o,"Cerrar"),this.setOpenTen(!0))},s=>{this.newTenedor=!0,this.checkTened=!1,this.incompletoTenedor=!1}),c.present()}})}editPropietario(){this.isModalOpen3=!0}editTenedor(){this.isModalOpen4=!0}onSubmitNewVehicle(){return(0,_.mG)(this,void 0,void 0,function*(){var t=!0,o={};o.placa=this.vehiculo.placa;var a="<ul>";for(const m in this.formNewVehicle.controls)if(this.formNewVehicle.controls[m].invalid)t=!1,a+="<li>"+m.charAt(0).toUpperCase()+m.slice(1)+"</li>";else if("fechaSoat"==m&&this.vehiculo[m]||"fechaTecno"==m&&this.vehiculo[m]){var c=new Date(this.formNewVehicle.value[m]);this.vehiculo[m]=c.toISOString().split("T")[0],o[m]=c.toISOString().split("T")[0]}else this.vehiculo[m]=this.formNewVehicle.value[m],o[m]=this.formNewVehicle.value[m];if(this.vehiculo.articulado&&(this.formNewVehicle.value.remolque?this.vehiculo.remolque=this.formNewVehicle.value.remolque:(t=!1,a+="Placa Remolque")),a+="</ul>",this.dataTercero.docs=this.documents_vehiculo,t){const m=yield this.loading.create({message:"Guardando Vehiculo..."}),h=yield this.loading.create({message:"Validando Documentos..."});a="<ul>";var s=[];if(this.docsFailVehicle.length>0){for(let u=0;u<this.docsFailVehicle.length;u++){const w=this.docsFailVehicle[u];a+="<li>"+this.user.separarCamelCase(w.name)+"</li>";const T=this.user.buscarCodigoEnDocumentos(w.name);!T||s.push(T)}a+="<ul>"}0==s.length&&(s=this.documents_vehiculo),m.present(),yield this.reg.sendDataVehiculo(o).then(u=>{m.dismiss()}),h.present();const x=yield this.validateDocuments(this.vehiculo.placa,this.documents_vehiculo,"vehiculo");x.status?(this.setOpenVeh(!1),this.incompletoVehiculo=!1,this.newVehicle=!1,this.checkVehicle=!0):(this.openDocs=!0,this.openDocumentController(this.vehiculo.placa,"vehiculo",!0,x.data)),h.dismiss()}else this.incompletoVehiculo=!0,this.presentAlert("Error","Es necesario ingresar:",a,"Cerrar")})}fechaInput(t){var i=document.getElementById(t);null==i||i.focus()}refreshDataDriver(){return(0,_.mG)(this,void 0,void 0,function*(){var i={};const o=yield this.loading.create({message:"Guradando Datos.."});o.present();for(const c in this.conductor)this.conductor[c]&&(i[c]=this.conductor[c]);i.codigoTercerox=this.conductor.cedula,i.conductor=!0,yield this.reg.sendDataTercero(i).then(c=>{const s=[];this.documents_conductor.forEach(g=>{g.docs.forEach(m=>{s.push(m.codigo)})});const r=s.join(",");this.photo.getFotosTercero(this.conductor.cedula,r,"conductor").toPromise().then(g=>{const m=this.removeMatchingKeys(g);if(o.dismiss(),"201"==m.code){var h=[];for(const f in m.data)if(!m.data[f]){const u=this.user.buscarCodigoEnDocumentos(f);u&&h.push(u)}this.openDocs=!0,this.openDocumentController(this.conductor.cedula,"conductor",!0,h)}else this.incompletoTercero=!1,this.checkTercero=!0,this.newTercero=!1})})})}refreshDataVehicule(){return(0,_.mG)(this,void 0,void 0,function*(){var i={};const o=yield this.loading.create({message:"Guradando Datos.."});o.present();for(const s in this.vehiculo)this.vehiculo[s]&&(i[s]=this.vehiculo[s]);i.placa=this.vehiculo.placa,yield this.reg.sendDataVehiculo(i);const c=yield this.validateDocuments(this.vehiculo.placa,this.documents_vehiculo,"vehiculo");c.status?(this.incompletoVehiculo=!1,this.checkVehicle=!0,this.newVehicle=!1,this.docsFailVehicle=[]):(this.openDocs=!0,this.openDocumentController(this.vehiculo.placa,"vehiculo",!0,c.data)),o.dismiss()})}onSubmitNewDriver(){return(0,_.mG)(this,void 0,void 0,function*(){var t=!0,o={},a="<ul>";for(const c in this.formNewDriver.controls)this.formNewDriver.controls[c].invalid?(t=!1,a+="<li>"+c.charAt(0).toUpperCase()+c.slice(1)+"</li>"):this.formNewDriver.value[c]?(this.conductor[c]=this.formNewDriver.value[c],o[c]=this.formNewDriver.value[c]):o[c]=this.conductor[c];if(o.codigoTercerox=this.conductor.cedula,o.conductor=!0,a+="</ul>",this.dataTercero.docs=this.documents_conductor,t){const c=yield this.loading.create({message:"Guardando Conductor..."});c.present(),this.isModalOpen2=!1,yield this.reg.sendDataTercero(o).then(r=>(0,_.mG)(this,void 0,void 0,function*(){const g=[];this.documents_conductor.forEach(h=>{h.docs.forEach(f=>{g.push(f.codigo)})});const m=g.join(",");yield this.photo.getFotosTercero(this.conductor.cedula,m,"conductor").toPromise().then(h=>{"201"==h.code?(this.openDocs=!0,this.openDocumentController(this.conductor.cedula,"conductor",!0,this.documents_conductor)):(this.incompletoTercero=!1,this.checkTercero=!0,this.newTercero=!1)}),c.dismiss()}),r=>{this.isModalOpen2=!0,this.incompletoTercero=!0,this.checkTercero=!1,c.dismiss()})}else this.incompletoTercero=!0,this.presentAlert("Error","Es necesario ingresar:",a,"Cerrar")})}saveDocumentDriver(){this.jsonDocs={tipoRegistro:"conductor",files:[]},this.hubImag.cedula1.base64&&this.jsonDocs.files.push({codigo:this.conductor.cedula,tipo:"cedula1",data64:this.hubImag.cedula1.base64}),this.hubImag.cedula2.base64&&this.jsonDocs.files.push({codigo:this.conductor.cedula,tipo:"cedula2",data64:this.hubImag.cedula2.base64}),this.hubImag.licencia1.base64&&this.jsonDocs.files.push({codigo:this.conductor.cedula,tipo:"licencia1",data64:this.hubImag.licencia1.base64}),this.hubImag.licencia2.base64&&this.jsonDocs.files.push({codigo:this.conductor.cedula,tipo:"licencia2",data64:this.hubImag.licencia2.base64}),this.hubImag.seguridadsocial.base64&&this.jsonDocs.files.push({codigo:this.conductor.cedula,tipo:"seguridadsocial",data64:this.hubImag.seguridadsocial.base64}),this.user.cargaDocumentos(this.jsonDocs).subscribe(t=>{const i=t.data;i.cedula1&&(this.hubImag.cedula1.webviewPath=i.cedula1),i.cedula2&&(this.hubImag.cedula2.webviewPath=i.cedula2),i.licencia1&&(this.hubImag.licencia1.webviewPath=i.licencia1),i.licencia2&&(this.hubImag.licencia2.webviewPath=i.licencia2)},t=>t)}saveDocumentVehicle(){this.jsonDocs={tipoReistro:"vehiculo",files:[]},this.hubImag.tarjePro.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"tarjePro",data64:this.hubImag.tarjePro.base64}),this.hubImag.soat1.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"soat1",data64:this.hubImag.soat1.base64}),this.hubImag.tecnomecanica.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"tecnomecanica",data64:this.hubImag.tecnomecanica.base64}),this.hubImag.fotovehi1.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"fotovehi1",data64:this.hubImag.fotovehi1.base64}),this.hubImag.fotovehi2.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"fotovehi2",data64:this.hubImag.fotovehi2.base64}),this.hubImag.fotovehi3.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"fotovehi3",data64:this.hubImag.fotovehi3.base64}),this.hubImag.fotovehi4.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"fotovehi4",data64:this.hubImag.fotovehi4.base64}),this.hubImag.fotoremol.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"fotoremol",data64:this.hubImag.fotoremol.base64}),this.hubImag.tarjePror.base64&&this.jsonDocs.files.push({codigo:this.vehiculo.placa,tipo:"tarjePror",data64:this.hubImag.tarjePror.base64}),this.user.cargaDocumentos(this.jsonDocs).subscribe(t=>{const i=t.data;i.soat1&&(this.hubImag.soat1.webviewPath=i.soat1),i.tecno1&&(this.hubImag.tecno1.webviewPath=i.tecno1),i.tarjePro&&(this.hubImag.tarjePro.webviewPath=i.tarjePro),i.soat1&&(this.hubImag.soat1.webviewPath=i.soat1),i.tecno&&(this.hubImag.tecno.webviewPath=i.tecno),i.fotovehi1&&(this.hubImag.fotovehi1.webviewPath=i.fotovehi1),i.fotovehi2&&(this.hubImag.fotovehi2.webviewPath=i.fotovehi2),i.fotovehi3&&(this.hubImag.fotovehi3.webviewPath=i.fotovehi3),i.fotovehi4&&(this.hubImag.fotovehi4.webviewPath=i.fotovehi4),i.fotoremol&&(this.hubImag.fotoremol.webviewPath=i.fotoremol),i.tarjePror&&(this.hubImag.tarjePror.webviewPath=i.tarjePror)},t=>t)}editVehiculo(){this.isModalOpen=!0}editTercero(){this.isModalOpen2=!0}addToGalery(t,i){return(0,_.mG)(this,void 0,void 0,function*(){this.loadingData=yield this.loading.create({message:"Guradando Foto.."}),this.photo.addNewToGallery(t).then(o=>{this.loadingData.present(),this.processImage(o,t,i)})})}addToCamera(t,i){return(0,_.mG)(this,void 0,void 0,function*(){this.loadingData=yield this.loading.create({message:"Guradando Foto.."}),this.loadingData.present(),this.photo.addNewToCamera(t).then(o=>{this.processImage(o,t,i)})})}processImage(t,i,o){return(0,_.mG)(this,void 0,void 0,function*(){try{var a=0;o&&(a=90);const s={webPath:yield this.photo.processAndRotationImage(t.base64,a),format:"jpeg",saved:!1},r=yield this.photo.readAsBase64(s),h=yield this.photo.processImage(r),f={webPath:h,format:"jpeg",saved:!1};t.webviewPath=h,t.base64=yield this.photo.readAsBase64(f),this.hubImag[i]=t,this.loadingData.dismiss()}catch(c){console.error("Error al procesar la imagen:",c)}})}acept(){return(0,_.mG)(this,void 0,void 0,function*(){this.aceptTermData=!0,this.setOpenTermsData(!1);const t=yield this.user.firmaContrato(1,this.conductor.cedula,"",this.token);console.log(t),this.getDriverApi3sL(this.conductor.cedula,!1)})}acept2(){return(0,_.mG)(this,void 0,void 0,function*(){this.aceptTerms=!0;try{const t=yield this.user.firmaContrato(2,this.conductor.cedula,this.vehiculo.placa,this.token);console.log(t),this.setOpenTerms(!1),this.onSubmit()}catch(t){console.log(t)}})}getFoto(){return(0,_.mG)(this,void 0,void 0,function*(){this.loadingData=yield this.loading.create({message:"Guradando Datos.."}),this.photo.addNewToCameraProfile("fotoperfil").then(t=>{this.loadingData.present(),this.processImage(t,"fotoperfil",!1),this.checkImagen=!0,this.completeData=!0})})}getDataCode(t,i){return(0,_.mG)(this,void 0,void 0,function*(){return yield this.reg.getDataCode(t,i,this.token)})}sendCodeValidation(){return(0,_.mG)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Generando Codigo.."});t.present();const i={cedula:this.conductor.cedula,placa:this.vehiculo.placa,telefono:this.vehiculo.celularPropietario};yield this.reg.sendCode(i,this.token).then(a=>{202==a.status_sms||"205"==a.code||this.presentAlert("Novedad","Error al enviar mensaje",a.data,"Reintentar"),this.codeValidation=!0,t.dismiss()}).catch(a=>{t.dismiss(),401==a.status?this.auth.logout():this.presentAlert("Error","Fallo al cargar",a.message||"Ha ocurrido un error inesperado.","Reintentar")})})}approveCode(){return(0,_.mG)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Verificando Codigo.."});t.present();const i={cedula:this.conductor.cedula,placa:this.vehiculo.placa,codigo:this.formSendCode.value.codigo};if((yield this.reg.validateCode(i,this.token)).status){var a={target:{value:this.vehiculo.placa}};this.codeValidation=!0,this.searchVehicle(a),this.setOpenCode(!1)}t.dismiss()})}changeVehicleApi(t){return(0,_.mG)(this,void 0,void 0,function*(){yield this.reg.changeDataVehicle(t,this.token).then(i=>{this.presentAlert("Vehiculo Asignado","Por favor iniciar Sesion con el nuevo Vehiculo","","Cerrar"),this.auth.logout()})})}validateBirthDate(t){const i=new Date(t.target.value),o=new Date;let a=o.getFullYear()-i.getFullYear();const c=o.getMonth()-i.getMonth();return(c<0||0===c&&o.getDate()<i.getDate())&&a--,a>=18||(this.presentAlert("Error","","Debe ser mayor de 18 a\xf1os","Cerrar"),this.formNewDriver.patchValue({fechaNacimiento:""}),this.conductor.fechaNacimiento="",!1)}presentAlert(t,i,o,a){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:""+t,subHeader:""+i,message:""+o,buttons:[""+a]})).present()})}presentAlertButtons(t,i,o,a,c){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:""+t,subHeader:""+i,message:""+o,buttons:c})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.qu),e.Y36(d.HT),e.Y36(q.K),e.Y36(d.Br),e.Y36(U.T),e.Y36(d.t4),e.Y36(P.F0),e.Y36(k.r),e.Y36(F.e),e.Y36(d._q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registro"]],viewQuery:function(t,i){if(1&t&&(e.Gf(R,5),e.Gf(G,5),e.Gf(S,5),e.Gf(V,5),e.Gf(J,5),e.Gf(O,5),e.Gf(j,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.modal=o.first),e.iGM(o=e.CRH())&&(i.modal2=o.first),e.iGM(o=e.CRH())&&(i.modal3=o.first),e.iGM(o=e.CRH())&&(i.modal4=o.first),e.iGM(o=e.CRH())&&(i.modalcode=o.first),e.iGM(o=e.CRH())&&(i.autocompleteContainer=o.first),e.iGM(o=e.CRH())&&(i.fechaInputNac=o.first)}},inputs:{dataTercero:"dataTercero"},decls:3,vars:2,consts:[["class","color",4,"ngIf"],["appTipoDocumento","dataTercero",3,"dataTercero","save","cancel",4,"ngIf"],[1,"color"],[1,"registro","text-center"],[1,"form-signin","w-100","m-auto","p-2"],[3,"formGroup","ngSubmit"],["src","","alt","","height","150",1,"mb-4"],[1,"mb-5"],[1,"form-floating"],["type","number","formControlName","cedula","name","cedula","matInput","","id","cedula","placeholder","Cedula","required","",1,"form-control",3,"change"],["class","icon","name","add-circle",3,"click",4,"ngIf"],["class","group-icons",4,"ngIf"],["class","icon","name","close-circle",4,"ngIf"],["for","floatingPassword"],["class","form-floating",4,"ngIf"],["class","write",4,"ngIf"],["class","mt-5","expand","block","type","bottom",4,"ngIf"],[3,"isOpen"],["modal",""],["modal2",""],["modal3",""],["modal4",""],["modalcode",""],["name","add-circle",1,"icon",3,"click"],[1,"group-icons"],["name","create",1,"icon-a",3,"click"],["name","checkmark-circle",1,"icon-a"],["name","close-circle",1,"icon-a"],["name","close-circle",1,"icon"],["type","text","formControlName","placa","name","placa","matInput","","id","placa","placeholder","Placa","maxlength","6","required","",1,"form-control",3,"input"],["for","floatingInput"],["type","number","formControlName","propietario","name","propietario","matInput","","id","propietario","placeholder","Cedula Propietario","required","",1,"form-control",3,"change"],["type","number","formControlName","tenedor","name","tenedor","matInput","","id","tenedor","placeholder","Cedula Tenedor","required","",1,"form-control",3,"change"],[1,"write"],[1,"ml-4","p-4"],[1,"container-upload",3,"click"],[3,"src",4,"ngIf"],["class","camera",4,"ngIf"],[3,"src"],[1,"camera"],["expand","block","type","bottom",1,"mt-5"],[1,"ml-2"],["slot","end"],[3,"click"],["color","light",1,"ion-padding"],["method","post",3,"formGroup","ngSubmit"],[1,"p-2",3,"inset"],[1,"container-prop"],[1,"prop-flotante"],[1,"ion-align-items-center","mt-4"],["size","12","size-sm","6",1,"mb-2"],["lines","none"],["slot","end",3,"checked","ionChange"],["size","12","size-sm","6"],[1,"col-md-12","d-flex","mt-4","mb-4","justify-content-center","text-center","title-form"],[1,"mb-4"],["for",""],["type","text","formControlName","modelo",1,"input-registro",3,"ngModel"],[1,"autocomplete-container2","mb-4","col-md-12"],["position","floating"],["formControlName","claseVehiculo","placeholder","",3,"ngModel","data","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused","focusout"],["autocompleteContainer",""],["formControlName","marca","placeholder","",3,"ngModel","data","searchKeyword","itemTemplate","notFoundTemplate","selected","focusout","inputChanged","inputFocused"],["formControlName","linea","placeholder","",3,"ngModel","data","searchKeyword","itemTemplate","notFoundTemplate","selected","focusout","inputChanged","inputFocused"],["formControlName","carroceria","placeholder","",3,"ngModel","data","searchKeyword","itemTemplate","notFoundTemplate","selected","focusout","inputChanged","inputFocused"],["formControlName","color","placeholder","",3,"ngModel","data","searchKeyword","itemTemplate","notFoundTemplate","selected","focusout","inputChanged","inputFocused"],["class","mb-4",4,"ngIf"],["formControlName","empresaSatelital","placeholder","",3,"ngModel","data","searchKeyword","itemTemplate","notFoundTemplate","focusout","selected","inputChanged","inputFocused"],["type","text","formControlName","usuarioSatelital",1,"input-registro",3,"ngModel"],["type","text","formControlName","claveSatelital",1,"input-registro",3,"ngModel"],["itemTemplate",""],["notFoundTemplate",""],["class","mt-5 p-2 d-flex justify-content-center",4,"ngIf"],[1,"mt-1","p-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","btn-submit"],["type","text","formControlName","remolque",1,"input-registro",3,"ngModel"],[3,"innerHTML"],[1,"mt-5","p-2","d-flex","justify-content-center"],["color","primary",3,"click"],["type","text","formControlName","nombres",1,"input-registro",3,"ngModel"],["type","text","formControlName","apellidos",1,"input-registro",3,"ngModel"],["type","text","formControlName","correo",1,"input-registro",3,"ngModel"],["type","number","formControlName","celular",1,"input-registro",3,"ngModel"],["type","text","formControlName","direccion",1,"input-registro",3,"ngModel"],["type","date","id","fechaNacimiento","formControlName","fechaNacimiento",1,"input-registro",3,"ngModel","input"],["type","text","formControlName","nombreContacto",1,"input-registro",3,"ngModel"],["type","number","formControlName","celularContacto",1,"input-registro",3,"ngModel"],["formControlName","parentesco","interface","action-sheet","label","Fixed label","label-placement","fixed",1,"input-registro",3,"ngModel","placeholder","ionChange"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","terms"],["lines","full",4,"ngFor","ngForOf"],[3,"value"],["lines","full"],["text-wrap",""],[3,"formControlName"],["slot","end","value","true"],["slot","end","value","false"],["type","text","formControlName","celular",1,"input-registro",3,"ngModel"],["type","date","formControlName","fechaNacimiento",1,"input-registro",3,"ngModel"],["formControlName","gre_rec_pub","slot","end",3,"ngModel"],["value","first3"],["slot","header","color","light"],["slot","content",1,"ion-padding"],[1,"col-md-12","d-flex","mt-4","mb-1","justify-content-center","text-center","title-form"],[1,"container-upload","mb-3",3,"click"],["value","first4"],[1,"mt-1","p-2"],[1,"ion-text-center"],["src","https://aldialogistica.com/wp-content/uploads/2023/01/logo_aldia3.png","alt","","height","150",1,"mb-4"],[1,"term-contain"],[1,"term-contain","mt-3"],["id","term-scroll",1,"term-contain","ion-text-justify","scroll","mt-3"],[1,"mt-4"],["type","submit",1,"btn","btn-success","success-btn",3,"click"],[1,"term-contain","ion-text-justify","scroll","mt-3"],["id","dataTerms"],[1,"ml-4"],["slot","start"],["color","medium",3,"click"],[1,"container"],[1,"mt-5","d-flex","justify-content-center"],["src","../../assets/img/verification.png","alt","","height","250",1,"mb-2"],[1,"mt-2"],[1,"col-12","title","align-center"],[1,"mt-3","mb-5","col-12","align-center"],["class","mt-4 col-12 d-flex justify-content-center",4,"ngIf"],["class","mt-5 col-12 d-flex justify-content-center",4,"ngIf"],[1,"mt-4","col-12","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"mt-5","col-12","d-flex","justify-content-center"],[1,"form-group"],["type","number","formControlName","codigo","placeholder","* * *  * * *","maxlength","6",1,"input-code"],["type","submit",1,"btn","btn-primary"],["appTipoDocumento","dataTercero",3,"dataTercero","save","cancel"]],template:function(t,i){1&t&&(e._UZ(0,"ion-header"),e.YNc(1,Ge,40,17,"ion-content",0),e.YNc(2,Se,1,1,"app-documentos",1)),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.openDocs),e.xp6(1),e.Q6J("ngIf",i.openDocs))},styles:["ion-content.color[_ngcontent-%COMP%]{--background: linear-gradient(#5b8bdf, #f4f5f8)}.form-floating[_ngcontent-%COMP%]{margin-bottom:10px}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{border-radius:25px}.icon[_ngcontent-%COMP%]{position:absolute;cursor:pointer;color:#007bff;font-size:25px;right:20px;top:20px}.icon-calendar[_ngcontent-%COMP%]{position:absolute;cursor:pointer;color:#007bff;font-size:25px;right:20px;top:30px}.group-icons[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.icon-a[_ngcontent-%COMP%]{cursor:pointer;color:#007bff;font-size:25px}.write[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .write[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .write[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.autocomplete-container2[_ngcontent-%COMP%]{position:relative}.col-n[_ngcontent-%COMP%]{flex:revert-layer!important}.container-prop[_ngcontent-%COMP%]{position:relative;height:150px;width:100%;margin-top:10px}.prop-flotante[_ngcontent-%COMP%]{position:absolute;width:100%;top:0}.select-card[_ngcontent-%COMP%]{background-color:#0094da;color:#fff}.term-contain[_ngcontent-%COMP%]{position:relative;width:80%;left:10%}.scroll[_ngcontent-%COMP%]{height:50vh;overflow-x:scroll}.success-btn[_ngcontent-%COMP%]{width:85%}app-documentos[_ngcontent-%COMP%] > ion-footer[_ngcontent-%COMP%]{position:absolute;bottom:0px}app-documentos[_ngcontent-%COMP%]{width:100%;height:97%;position:absolute}"]}),n})();const Ve=[{path:"",component:I}];let Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[P.Bz.forChild(Ve),P.Bz]}),n})();var E=C(8626);function Oe(n,l){if(1&n&&(e.TgZ(0,"ion-text")(1,"span",2),e._uU(2),e.qZA(),e._uU(3," - "),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.hij(" ",t.nombre," ")}}function je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",13),e.NdJ("click",function(){const a=e.CHM(t).index,c=e.oxw(),s=e.MAs(22);return c.selectDocument(a),e.KtG(s.present())}),e.TgZ(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e.YNc(5,Oe,4,1,"ion-text",14),e.qZA()(),e.TgZ(6,"ion-card-content"),e._uU(7),e.qZA()()}if(2&n){const t=l.$implicit;e.Q6J("hidden",t.hidden),e.xp6(3),e.Oqu(t.nombre),e.xp6(2),e.Q6J("ngForOf",t.docs),e.xp6(1),e.Tol(t.status?"confirm":"pending"),e.xp6(1),e.hij(" ",t.status?"En revision":"Pendiente"," ")}}function Qe(n,l){if(1&n&&e._UZ(0,"ion-img",25),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.Q6J("src",i.getImagen(t.codigo))}}function He(n,l){1&n&&e._UZ(0,"div",26)}function Ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.addToCamera(o.codigo,a.documentActive.rotate))}),e.YNc(1,Qe,1,1,"ion-img",23),e.YNc(2,He,1,0,"div",24),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.getImagen(t.codigo)),e.xp6(1),e.Q6J("ngIf",!i.getImagen(t.codigo))}}function Le(n,l){if(1&n&&e._UZ(0,"ion-img",29),2&n){const t=e.oxw(2).$implicit,i=e.oxw(3);e.Q6J("src",i.getImagen(t.codigo))}}function Ye(n,l){1&n&&e._UZ(0,"div",26)}function Be(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.selectTypeDocument(o.codigo,a.documentActive.rotate))}),e.YNc(1,Le,1,1,"ion-img",28),e.YNc(2,Ye,1,0,"div",24),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.getImagen(t.codigo)),e.xp6(1),e.Q6J("ngIf",!i.getImagen(t.codigo))}}function ze(n,l){if(1&n&&(e.TgZ(0,"ion-row")(1,"ion-col")(2,"div",19)(3,"strong")(4,"h1"),e._uU(5),e.qZA()()(),e.TgZ(6,"ion-item"),e.YNc(7,Ke,3,2,"div",20),e.YNc(8,Be,3,2,"div",21),e.qZA()()()),2&n){const t=l.$implicit,i=e.oxw(3);e.xp6(5),e.Oqu(t.nombre),e.xp6(2),e.Q6J("ngIf","camera"==i.documentActive.capture),e.xp6(1),e.Q6J("ngIf","galery"==i.documentActive.capture)}}function $e(n,l){if(1&n&&(e.TgZ(0,"div",19)(1,"strong")(2,"h3"),e._uU(3),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(t.documentActive.fechaTitle)}}function We(n,l){if(1&n&&(e.TgZ(0,"ion-row")(1,"ion-col",30),e._UZ(2,"input",31),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.s9C("value",t.fechaL[t.documentActive.fechaTag]),e.s9C("id",t.documentActive.fechaTag)}}function Xe(n,l){if(1&n&&(e.TgZ(0,"ion-grid"),e.YNc(1,ze,9,3,"ion-row",14),e.YNc(2,$e,4,1,"div",18),e.YNc(3,We,3,2,"ion-row",16),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.documentActive.docs),e.xp6(1),e.Q6J("ngIf",t.documentActive.fecha),e.xp6(1),e.Q6J("ngIf",t.documentActive.fecha)}}function et(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",2),e._uU(3,"Carga documentos"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"ion-list",15),e.YNc(6,Xe,4,3,"ion-grid",16),e.qZA()(),e.TgZ(7,"ion-footer")(8,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkDocument())}),e._uU(9," Confirmar Fotos "),e.qZA(),e.TgZ(10,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetFotos())}),e._uU(11," Cambiar fotos "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("inset",!0),e.xp6(1),e.Q6J("ngIf",!t.documentActive.hidden)}}function tt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",2),e._uU(3,"Tipo Carga"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"ion-list")(6,"ion-item",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.addToCamera(o.codeImageSelect,o.rotateImageSelect),e.KtG(o.setModalType(!1))}),e._UZ(7,"ion-icon",32),e._uU(8," Camara "),e.qZA(),e.TgZ(9,"ion-item",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.addToGalery(o.codeImageSelect,o.rotateImageSelect),e.KtG(o.setModalType(!1))}),e._UZ(10,"ion-icon",33),e._uU(11," Galeria "),e.qZA(),e.TgZ(12,"ion-item",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerFileInput())}),e.TgZ(13,"input",34),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return a.onFileSelected(o,a.codeImageSelect),e.KtG(a.setModalType(!1))}),e.qZA(),e._UZ(14,"ion-icon",35),e.TgZ(15,"span"),e._uU(16,"Archivo"),e.qZA()()()()}}const ot=function(){return[0,.25,.5,.75]};let it=(()=>{class n{constructor(t,i,o,a,c,s,r){this.reg=t,this.photo=i,this.alertController=o,this.user=a,this.loading=c,this.platform=s,this.router=r,this.listEvents=[],this.articulado=!0,this.isModalOpen=!1,this.modalTypeInput=!1,this.documents=[],this.fechaL=[]}ngOnInit(){this.platform.backButton.subscribeWithPriority(10,()=>{this.reg.openDocs=!1});var i="",a="";if(console.log(this.dataTercero),this.dataTercero.docs&&(this.documents=this.dataTercero.docs),this.dataTercero.placa&&(this.dataTercero.articulado||(this.documents=this.deleteDocumentByName(this.documents,"Remolque"))),this.documents)for(let c=0;c<this.documents.length;c++)for(let s=0;s<this.documents[c].docs.length;s++){const r=this.documents[c].docs[s].codigo;("galery"==this.documents[c].capture||"camera"==this.documents[c].capture)&&("conductor"==this.documents[c].type&&(i=this.dataTercero.cedula),"vehiculo"==this.documents[c].type&&(i=this.dataTercero.placa),a=this.documents[c].type,this.documents[c].articulado&&(i=this.dataTercero.articulado,a="remolque"),this.getDocument(i,r,a).then(g=>{"204"===g.code||(console.log(r),this.reg.hubImag[r].webviewPath=g.data[r],this.documents[c].docs[s].imagen=g.data[r])}))}}backdata(){this.reg.openDocs=!1}setModal(t){this.isModalOpen=t}setModalType(t){this.modalTypeInput=t}dimmissModalType(t){this.modalTypeInput=!1,console.log(t)}selectTypeDocument(t,i){this.codeImageSelect=t,this.rotateImageSelect=i,this.setModalType(!0)}selectDocument(t){this.isModalOpen=!0,this.documentActive=this.documents[t],this.cambiosDocs=!1,this.codeDocumentActive=t,this.documentActive.fail&&(this.cambiosDocs=!0)}addToGalery(t,i){return(0,_.mG)(this,void 0,void 0,function*(){this.loadingData=yield this.loading.create({message:"Guradando Foto.."}),this.loadingData.present(),this.photo.addNewToGallery(t).then(o=>{this.processImage(o,t,i),this.cambiosDocs=!0})})}addToCamera(t,i){return(0,_.mG)(this,void 0,void 0,function*(){this.loadingData=yield this.loading.create({message:"Guradando Foto.."}),this.loadingData.present(),this.photo.addNewToCamera(t).then(o=>{o?(this.processImage(o,t,i),this.cambiosDocs=!0):this.loadingData.dismiss()})})}processImage(t,i,o){return(0,_.mG)(this,void 0,void 0,function*(){try{var a=0;o&&(a=90);const s={webPath:yield this.photo.processAndRotationImage(t.base64,a),format:"jpeg",saved:!1},r=yield this.photo.readAsBase64(s),h=yield this.photo.processImage(r),f={webPath:h,format:"jpeg",saved:!1};t.webviewPath=h,t.base64=yield this.photo.readAsBase64(f),this.reg.hubImag[i]=t,this.loadingData.dismiss()}catch(c){console.error("Error al procesar la imagen:",c)}})}onFileSelected(t,i){return(0,_.mG)(this,void 0,void 0,function*(){this.loadingData=yield this.loading.create({message:"Guradando Foto.."}),this.loadingData.present();const o=t.target.files[0];o&&"application/pdf"===o.type&&this.processPdf(o,i)})}triggerFileInput(){document.getElementById("pdfInput").click()}processPdf(t,i){return(0,_.mG)(this,void 0,void 0,function*(){const o={};console.log(i);const a=yield this.photo.convertFileToBase64(t);o.webviewPath="assets/icon/pdf.png",o.base64=a,this.reg.hubImag[i]=o,this.loadingData.dismiss()})}documentValidate(){return(0,_.mG)(this,void 0,void 0,function*(){this.reg.openDocs=!1;const t=this.documents;var i="",o="";this.loadingData=yield this.loading.create({message:"Revisando Fotos.."}),this.loadingData.present(),this.dataTercero.cedula&&(i=this.dataTercero.cedula,o="conductor"),this.dataTercero.placa&&(i=this.dataTercero.placa,o="vehiculo");const a=[];t.forEach(s=>{s.docs.forEach(r=>{a.push(r.codigo)})});const c=a.join(",");try{this.dataTercero.cedula&&(yield this.reg.refreshDataDriver()),this.dataTercero.placa&&(yield this.reg.refreshDataVehicule()),this.photo.getFotosTercero(i,c,o).toPromise().then(s=>{this.loadingData.dismiss(),"201"==s.code&&this.presentAlert("Error","Documentos pendientes por cargar","","Cerrar")})}catch(s){this.loadingData.dismiss(),this.presentAlert("Error","Error al guardar",s.error,"cerrar")}})}checkDocument(){return(0,_.mG)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Guradando Fotos.."});t.present();var i=!0,o="<ul>",a=!1,c={},s={},r=this.documentActive.type;"conductor"==this.documentActive.type&&(a=this.dataTercero.cedula),"vehiculo"==this.documentActive.type&&(a=this.dataTercero.placa),this.documentActive.articulado&&(a=this.dataTercero.articulado,r="remolque");const g=this.documentActive.docs;for(let h=0;h<g.length;h++){const f=g[h];this.reg.hubImag[f.codigo].webviewPath?f.imagen=this.reg.hubImag[f.codigo].webviewPath:(i=!1,o+="<li>"+this.documentActive.nombre+f.nombre+"</li>")}if(this.documentActive.fecha){const h=document.getElementById(this.documentActive.fechaTag);h.value?(console.log(this.documents),"conductor"==this.documentActive.type&&(this.reg.conductor[this.documentActive.fechaTag]=h.value,this.reg.formNewDriver.get(this.documentActive.fechaTag).setValue(h.value),this.documents[this.codeDocumentActive].value=h.value,s.codigoTercerox=this.dataTercero.cedula,s[this.documentActive.fechaTag]=h.value),"vehiculo"==this.documentActive.type&&(this.reg.vehiculo[this.documentActive.fechaTag]=h.value,this.reg.formNewVehicle.get(this.documentActive.fechaTag).setValue(h.value),this.documents[this.codeDocumentActive].value=h.value,c.placa=this.dataTercero.placa,c[this.documentActive.fechaTag]=h.value)):(i=!1,o+="<li>"+this.documentActive.fechaTag+"</li>")}else if(!this.documentActive.fecha&&this.documentActive.fechaTag&&"conductor"==this.documentActive.type){const h=new Date;h.setMonth(h.getMonth()+1),this.documents[this.codeDocumentActive].value=h.toISOString().slice(0,10),this.reg.conductor[this.documentActive.fechaTag]=h.toISOString().slice(0,10),s.codigoTercerox=this.dataTercero.cedula,s.conductor=!0,s[this.documentActive.fechaTag]=h.toISOString().slice(0,10)}if(o+="</ul>",i){if(a){var m={files:[]};for(let h=0;h<g.length;h++){const f=g[h];console.log(f),this.reg.hubImag[f.codigo].base64&&m.files.push({codigo:a,tipo:f.codigo,tipoRegistro:r,data64:this.reg.hubImag[f.codigo].base64})}this.user.cargaDocumentos(m).subscribe(h=>{const f=h.data;console.log(f),console.log(m);for(const x in m.files){const u=m.files[x];console.log(u),f[u.tipo]&&(this.reg.hubImag[u.tipo].webviewPath=f[u.tipo])}this.isModalOpen=!1,this.documentActive.status=!0},h=>{t.dismiss(),this.presentAlert("Error","Se presento una novedad en los datos","Volver a intentar","Cerrar")},()=>{t.dismiss()})}}else this.presentAlert("Error","Es necesario cargar",o,"Cerrar"),t.dismiss()})}resetFotos(){const t=this.documentActive.docs;for(let i=0;i<t.length;i++)this.reg.hubImag[t[i].codigo].webviewPath=""}getDocument(t,i,o){return(0,_.mG)(this,void 0,void 0,function*(){try{return yield this.photo.getFotoTercero(t,i,o).toPromise()}catch(a){throw a}})}getImagen(t){return this.reg.hubImag[t].webviewPath}presentAlert(t,i,o,a){return(0,_.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:""+t,subHeader:""+i,message:""+o,buttons:[""+a]})).present()})}deleteDocumentByName(t,i){return t.filter(o=>o.nombre!==i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I),e.Y36(U.T),e.Y36(d.Br),e.Y36(q.K),e.Y36(d.HT),e.Y36(d.t4),e.Y36(P.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-documentos"]],viewQuery:function(t,i){if(1&t&&e.Gf(d.ki,5),2&t){let o;e.iGM(o=e.CRH())&&(i.modalType=o.first)}},inputs:{dataTercero:"dataTercero"},decls:27,vars:6,consts:[["slot","start",1,"ml-1"],[3,"click"],[1,"ml-3"],[1,"registro","text-center"],[1,"form-signin","w-100","m-auto"],[1,"p-2"],["class","w-100 ion-activatable ripple-parent rectangle",3,"hidden","click",4,"ngFor","ngForOf"],[1,"mt-1","mb-3","p-2","d-flex","justify-content-center"],["expand","block","type","submit",3,"click"],[3,"isOpen"],["modal1",""],["trigger","open-modal","handleBehavior","cycle",3,"isOpen","initialBreakpoint","breakpoints","ionModalDidDismiss"],["modalType",""],[1,"w-100","ion-activatable","ripple-parent","rectangle",3,"hidden","click"],[4,"ngFor","ngForOf"],[1,"p-2",3,"inset"],[4,"ngIf"],["expand","block","type","submit",1,"mb-4",3,"click"],["class","col-md-12 d-flex mt-4 mb-1 justify-content-center text-center title-form",4,"ngIf"],[1,"col-md-12","d-flex","mt-4","mb-1","justify-content-center","text-center","title-form"],["class","container-upload mb-3",3,"click",4,"ngIf"],["slot","start","class","container-upload mb-3",3,"click",4,"ngIf"],[1,"container-upload","mb-3",3,"click"],[3,"src",4,"ngIf"],["class","camera",4,"ngIf"],[3,"src"],[1,"camera"],["slot","start",1,"container-upload","mb-3",3,"click"],["id","open-modal",3,"src",4,"ngIf"],["id","open-modal",3,"src"],[1,"d-flex","justify-content-center"],["type","date",1,"input-registro",3,"value","id"],["name","camera-outline",1,"mr-3"],["name","image-outline",1,"mr-3"],["type","file","id","pdfInput","accept",".pdf",2,"display","none",3,"change"],["name","clipboard-outline",1,"mr-3"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-back-button",1),e.NdJ("click",function(){return i.backdata()}),e.qZA()(),e.TgZ(4,"ion-title",2),e._uU(5,"Documentos Conductor"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",3)(8,"main",4)(9,"ion-grid")(10,"ion-text",5)(11,"h1"),e._uU(12,"Estas a pocos pasos"),e.qZA(),e.TgZ(13,"p"),e._uU(14,"Carga la siguientes imagenes para continuar con el registro"),e.qZA()(),e.TgZ(15,"ion-row"),e.YNc(16,je,8,7,"ion-card",6),e.qZA(),e._UZ(17,"ion-row"),e.qZA(),e.TgZ(18,"div",7)(19,"ion-button",8),e.NdJ("click",function(){return i.documentValidate()}),e._uU(20," Guardar "),e.qZA()()()(),e.TgZ(21,"ion-modal",9,10),e.YNc(23,et,12,2,"ng-template"),e.qZA(),e.TgZ(24,"ion-modal",11,12),e.NdJ("ionModalDidDismiss",function(a){return i.dimmissModalType(a)}),e.YNc(26,tt,17,0,"ng-template"),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",i.documents),e.xp6(5),e.Q6J("isOpen",i.isModalOpen),e.xp6(3),e.Q6J("isOpen",i.modalTypeInput)("initialBreakpoint",.25)("breakpoints",e.DdM(5,ot)))},dependencies:[A.sg,A.O5,d.oU,d.YG,d.Sm,d.PM,d.FN,d.Zi,d.tO,d.Dq,d.wI,d.W2,d.fr,d.jY,d.Gu,d.gu,d.Xz,d.Ie,d.q_,d.Nd,d.yW,d.wd,d.sr,d.ki,d.cs],styles:["ion-content.color{--background: linear-gradient(#5b8bdf, #f4f5f8)}.full-list,.w-100{width:100%}.confirm{color:#0094da}.pending{color:red}.p-3{padding-left:30px;padding-right:30px}.p-2{padding-left:20px;padding-right:20px}.mb-3{margin-bottom:30px}\n"],encapsulation:3}),n})(),at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[A.ez,p.u5,d.Pc,Je,p.UX,E.rP]}),n})();e.B6R(I,[A.sg,A.O5,p._Y,p.Fj,p.wV,p.JJ,p.JL,p.Q7,p.nD,d.We,d.eh,d.YG,d.Sm,d.nz,d.wI,d.W2,d.jY,d.Gu,d.gu,d.Xz,d.Ie,d.Q$,d.q_,d.B7,d.se,d.Nd,d.t9,d.n0,d.yW,d.wd,d.ho,d.sr,d.ki,d.w,d.U5,d.QI,p.sg,p.u,p.x0,E.YR,it],[])}}]);